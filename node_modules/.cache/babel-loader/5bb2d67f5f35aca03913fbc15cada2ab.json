{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"prefixCls\", \"defaultValue\", \"value\", \"autoSize\", \"onResize\", \"className\", \"style\", \"disabled\", \"onChange\", \"onInternalAutoSize\"];\nimport classNames from 'classnames';\nimport ResizeObserver from 'rc-resize-observer';\nimport useLayoutEffect from \"rc-util/es/hooks/useLayoutEffect\";\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport raf from \"rc-util/es/raf\";\nimport * as React from 'react';\nimport calculateAutoSizeStyle from \"./calculateNodeHeight\";\nvar RESIZE_START = 0;\nvar RESIZE_MEASURING = 1;\nvar RESIZE_STABLE = 2;\nvar ResizableTextArea = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _ref = props,\n      prefixCls = _ref.prefixCls,\n      defaultValue = _ref.defaultValue,\n      value = _ref.value,\n      autoSize = _ref.autoSize,\n      onResize = _ref.onResize,\n      className = _ref.className,\n      style = _ref.style,\n      disabled = _ref.disabled,\n      onChange = _ref.onChange,\n      onInternalAutoSize = _ref.onInternalAutoSize,\n      restProps = _objectWithoutProperties(_ref, _excluded); // =============================== Value ================================\n\n\n  var _useMergedState = useMergedState(defaultValue, {\n    value: value,\n    postState: function postState(val) {\n      return val !== null && val !== void 0 ? val : '';\n    }\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      mergedValue = _useMergedState2[0],\n      setMergedValue = _useMergedState2[1];\n\n  var onInternalChange = function onInternalChange(event) {\n    setMergedValue(event.target.value);\n    onChange === null || onChange === void 0 || onChange(event);\n  }; // ================================ Ref =================================\n\n\n  var textareaRef = React.useRef();\n  React.useImperativeHandle(ref, function () {\n    return {\n      textArea: textareaRef.current\n    };\n  }); // ============================== AutoSize ==============================\n\n  var _React$useMemo = React.useMemo(function () {\n    if (autoSize && _typeof(autoSize) === 'object') {\n      return [autoSize.minRows, autoSize.maxRows];\n    }\n\n    return [];\n  }, [autoSize]),\n      _React$useMemo2 = _slicedToArray(_React$useMemo, 2),\n      minRows = _React$useMemo2[0],\n      maxRows = _React$useMemo2[1];\n\n  var needAutoSize = !!autoSize; // =============================== Scroll ===============================\n  // https://github.com/ant-design/ant-design/issues/21870\n\n  var fixFirefoxAutoScroll = function fixFirefoxAutoScroll() {\n    try {\n      // FF has bug with jump of scroll to top. We force back here.\n      if (document.activeElement === textareaRef.current) {\n        var _textareaRef$current = textareaRef.current,\n            selectionStart = _textareaRef$current.selectionStart,\n            selectionEnd = _textareaRef$current.selectionEnd,\n            scrollTop = _textareaRef$current.scrollTop; // Fix Safari bug which not rollback when break line\n        // This makes Chinese IME can't input. Do not fix this\n        // const { value: tmpValue } = textareaRef.current;\n        // textareaRef.current.value = '';\n        // textareaRef.current.value = tmpValue;\n\n        textareaRef.current.setSelectionRange(selectionStart, selectionEnd);\n        textareaRef.current.scrollTop = scrollTop;\n      }\n    } catch (e) {// Fix error in Chrome:\n      // Failed to read the 'selectionStart' property from 'HTMLInputElement'\n      // http://stackoverflow.com/q/21177489/3040605\n    }\n  }; // =============================== Resize ===============================\n\n\n  var _React$useState = React.useState(RESIZE_STABLE),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      resizeState = _React$useState2[0],\n      setResizeState = _React$useState2[1];\n\n  var _React$useState3 = React.useState(),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      autoSizeStyle = _React$useState4[0],\n      setAutoSizeStyle = _React$useState4[1];\n\n  var startResize = function startResize() {\n    setResizeState(RESIZE_START);\n\n    if (process.env.NODE_ENV === 'test') {\n      onInternalAutoSize === null || onInternalAutoSize === void 0 || onInternalAutoSize();\n    }\n  }; // Change to trigger resize measure\n\n\n  useLayoutEffect(function () {\n    if (needAutoSize) {\n      startResize();\n    }\n  }, [value, minRows, maxRows, needAutoSize]);\n  useLayoutEffect(function () {\n    if (resizeState === RESIZE_START) {\n      setResizeState(RESIZE_MEASURING);\n    } else if (resizeState === RESIZE_MEASURING) {\n      var textareaStyles = calculateAutoSizeStyle(textareaRef.current, false, minRows, maxRows); // Safari has bug that text will keep break line on text cut when it's prev is break line.\n      // ZombieJ: This not often happen. So we just skip it.\n      // const { selectionStart, selectionEnd, scrollTop } = textareaRef.current;\n      // const { value: tmpValue } = textareaRef.current;\n      // textareaRef.current.value = '';\n      // textareaRef.current.value = tmpValue;\n      // if (document.activeElement === textareaRef.current) {\n      //   textareaRef.current.scrollTop = scrollTop;\n      //   textareaRef.current.setSelectionRange(selectionStart, selectionEnd);\n      // }\n\n      setResizeState(RESIZE_STABLE);\n      setAutoSizeStyle(textareaStyles);\n    } else {\n      fixFirefoxAutoScroll();\n    }\n  }, [resizeState]); // We lock resize trigger by raf to avoid Safari warning\n\n  var resizeRafRef = React.useRef();\n\n  var cleanRaf = function cleanRaf() {\n    raf.cancel(resizeRafRef.current);\n  };\n\n  var onInternalResize = function onInternalResize(size) {\n    if (resizeState === RESIZE_STABLE) {\n      onResize === null || onResize === void 0 || onResize(size);\n\n      if (autoSize) {\n        cleanRaf();\n        resizeRafRef.current = raf(function () {\n          startResize();\n        });\n      }\n    }\n  };\n\n  React.useEffect(function () {\n    return cleanRaf;\n  }, []); // =============================== Render ===============================\n\n  var mergedAutoSizeStyle = needAutoSize ? autoSizeStyle : null;\n\n  var mergedStyle = _objectSpread(_objectSpread({}, style), mergedAutoSizeStyle);\n\n  if (resizeState === RESIZE_START || resizeState === RESIZE_MEASURING) {\n    mergedStyle.overflowY = 'hidden';\n    mergedStyle.overflowX = 'hidden';\n  }\n\n  return /*#__PURE__*/React.createElement(ResizeObserver, {\n    onResize: onInternalResize,\n    disabled: !(autoSize || onResize)\n  }, /*#__PURE__*/React.createElement(\"textarea\", _extends({}, restProps, {\n    ref: textareaRef,\n    style: mergedStyle,\n    className: classNames(prefixCls, className, _defineProperty({}, \"\".concat(prefixCls, \"-disabled\"), disabled)),\n    disabled: disabled,\n    value: mergedValue,\n    onChange: onInternalChange\n  })));\n});\nexport default ResizableTextArea;","map":{"version":3,"sources":["/Users/malith_bandara/Desktop/AdminDashboard/node_modules/rc-textarea/es/ResizableTextArea.js"],"names":["_extends","_defineProperty","_objectSpread","_typeof","_slicedToArray","_objectWithoutProperties","_excluded","classNames","ResizeObserver","useLayoutEffect","useMergedState","raf","React","calculateAutoSizeStyle","RESIZE_START","RESIZE_MEASURING","RESIZE_STABLE","ResizableTextArea","forwardRef","props","ref","_ref","prefixCls","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize","restProps","_useMergedState","postState","val","_useMergedState2","mergedValue","setMergedValue","onInternalChange","event","target","textareaRef","useRef","useImperativeHandle","textArea","current","_React$useMemo","useMemo","minRows","maxRows","_React$useMemo2","needAutoSize","fixFirefoxAutoScroll","document","activeElement","_textareaRef$current","selectionStart","selectionEnd","scrollTop","setSelectionRange","e","_React$useState","useState","_React$useState2","resizeState","setResizeState","_React$useState3","_React$useState4","autoSizeStyle","setAutoSizeStyle","startResize","process","env","NODE_ENV","textareaStyles","resizeRafRef","cleanRaf","cancel","onInternalResize","size","useEffect","mergedAutoSizeStyle","mergedStyle","overflowY","overflowX","createElement","concat"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"prefixCls\", \"defaultValue\", \"value\", \"autoSize\", \"onResize\", \"className\", \"style\", \"disabled\", \"onChange\", \"onInternalAutoSize\"];\nimport classNames from 'classnames';\nimport ResizeObserver from 'rc-resize-observer';\nimport useLayoutEffect from \"rc-util/es/hooks/useLayoutEffect\";\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport raf from \"rc-util/es/raf\";\nimport * as React from 'react';\nimport calculateAutoSizeStyle from \"./calculateNodeHeight\";\nvar RESIZE_START = 0;\nvar RESIZE_MEASURING = 1;\nvar RESIZE_STABLE = 2;\nvar ResizableTextArea = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _ref = props,\n    prefixCls = _ref.prefixCls,\n    defaultValue = _ref.defaultValue,\n    value = _ref.value,\n    autoSize = _ref.autoSize,\n    onResize = _ref.onResize,\n    className = _ref.className,\n    style = _ref.style,\n    disabled = _ref.disabled,\n    onChange = _ref.onChange,\n    onInternalAutoSize = _ref.onInternalAutoSize,\n    restProps = _objectWithoutProperties(_ref, _excluded);\n\n  // =============================== Value ================================\n  var _useMergedState = useMergedState(defaultValue, {\n      value: value,\n      postState: function postState(val) {\n        return val !== null && val !== void 0 ? val : '';\n      }\n    }),\n    _useMergedState2 = _slicedToArray(_useMergedState, 2),\n    mergedValue = _useMergedState2[0],\n    setMergedValue = _useMergedState2[1];\n  var onInternalChange = function onInternalChange(event) {\n    setMergedValue(event.target.value);\n    onChange === null || onChange === void 0 || onChange(event);\n  };\n\n  // ================================ Ref =================================\n  var textareaRef = React.useRef();\n  React.useImperativeHandle(ref, function () {\n    return {\n      textArea: textareaRef.current\n    };\n  });\n\n  // ============================== AutoSize ==============================\n  var _React$useMemo = React.useMemo(function () {\n      if (autoSize && _typeof(autoSize) === 'object') {\n        return [autoSize.minRows, autoSize.maxRows];\n      }\n      return [];\n    }, [autoSize]),\n    _React$useMemo2 = _slicedToArray(_React$useMemo, 2),\n    minRows = _React$useMemo2[0],\n    maxRows = _React$useMemo2[1];\n  var needAutoSize = !!autoSize;\n\n  // =============================== Scroll ===============================\n  // https://github.com/ant-design/ant-design/issues/21870\n  var fixFirefoxAutoScroll = function fixFirefoxAutoScroll() {\n    try {\n      // FF has bug with jump of scroll to top. We force back here.\n      if (document.activeElement === textareaRef.current) {\n        var _textareaRef$current = textareaRef.current,\n          selectionStart = _textareaRef$current.selectionStart,\n          selectionEnd = _textareaRef$current.selectionEnd,\n          scrollTop = _textareaRef$current.scrollTop;\n\n        // Fix Safari bug which not rollback when break line\n        // This makes Chinese IME can't input. Do not fix this\n        // const { value: tmpValue } = textareaRef.current;\n        // textareaRef.current.value = '';\n        // textareaRef.current.value = tmpValue;\n\n        textareaRef.current.setSelectionRange(selectionStart, selectionEnd);\n        textareaRef.current.scrollTop = scrollTop;\n      }\n    } catch (e) {\n      // Fix error in Chrome:\n      // Failed to read the 'selectionStart' property from 'HTMLInputElement'\n      // http://stackoverflow.com/q/21177489/3040605\n    }\n  };\n\n  // =============================== Resize ===============================\n  var _React$useState = React.useState(RESIZE_STABLE),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    resizeState = _React$useState2[0],\n    setResizeState = _React$useState2[1];\n  var _React$useState3 = React.useState(),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    autoSizeStyle = _React$useState4[0],\n    setAutoSizeStyle = _React$useState4[1];\n  var startResize = function startResize() {\n    setResizeState(RESIZE_START);\n    if (process.env.NODE_ENV === 'test') {\n      onInternalAutoSize === null || onInternalAutoSize === void 0 || onInternalAutoSize();\n    }\n  };\n\n  // Change to trigger resize measure\n  useLayoutEffect(function () {\n    if (needAutoSize) {\n      startResize();\n    }\n  }, [value, minRows, maxRows, needAutoSize]);\n  useLayoutEffect(function () {\n    if (resizeState === RESIZE_START) {\n      setResizeState(RESIZE_MEASURING);\n    } else if (resizeState === RESIZE_MEASURING) {\n      var textareaStyles = calculateAutoSizeStyle(textareaRef.current, false, minRows, maxRows);\n\n      // Safari has bug that text will keep break line on text cut when it's prev is break line.\n      // ZombieJ: This not often happen. So we just skip it.\n      // const { selectionStart, selectionEnd, scrollTop } = textareaRef.current;\n      // const { value: tmpValue } = textareaRef.current;\n      // textareaRef.current.value = '';\n      // textareaRef.current.value = tmpValue;\n\n      // if (document.activeElement === textareaRef.current) {\n      //   textareaRef.current.scrollTop = scrollTop;\n      //   textareaRef.current.setSelectionRange(selectionStart, selectionEnd);\n      // }\n\n      setResizeState(RESIZE_STABLE);\n      setAutoSizeStyle(textareaStyles);\n    } else {\n      fixFirefoxAutoScroll();\n    }\n  }, [resizeState]);\n\n  // We lock resize trigger by raf to avoid Safari warning\n  var resizeRafRef = React.useRef();\n  var cleanRaf = function cleanRaf() {\n    raf.cancel(resizeRafRef.current);\n  };\n  var onInternalResize = function onInternalResize(size) {\n    if (resizeState === RESIZE_STABLE) {\n      onResize === null || onResize === void 0 || onResize(size);\n      if (autoSize) {\n        cleanRaf();\n        resizeRafRef.current = raf(function () {\n          startResize();\n        });\n      }\n    }\n  };\n  React.useEffect(function () {\n    return cleanRaf;\n  }, []);\n\n  // =============================== Render ===============================\n  var mergedAutoSizeStyle = needAutoSize ? autoSizeStyle : null;\n  var mergedStyle = _objectSpread(_objectSpread({}, style), mergedAutoSizeStyle);\n  if (resizeState === RESIZE_START || resizeState === RESIZE_MEASURING) {\n    mergedStyle.overflowY = 'hidden';\n    mergedStyle.overflowX = 'hidden';\n  }\n  return /*#__PURE__*/React.createElement(ResizeObserver, {\n    onResize: onInternalResize,\n    disabled: !(autoSize || onResize)\n  }, /*#__PURE__*/React.createElement(\"textarea\", _extends({}, restProps, {\n    ref: textareaRef,\n    style: mergedStyle,\n    className: classNames(prefixCls, className, _defineProperty({}, \"\".concat(prefixCls, \"-disabled\"), disabled)),\n    disabled: disabled,\n    value: mergedValue,\n    onChange: onInternalChange\n  })));\n});\nexport default ResizableTextArea;"]},"metadata":{},"sourceType":"module"}