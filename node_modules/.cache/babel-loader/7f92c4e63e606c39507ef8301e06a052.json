{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport * as React from 'react';\nexport var SEARCH_MARK = '__rc_cascader_search_mark__';\n\nvar defaultFilter = function defaultFilter(search, options, _ref) {\n  var _ref$label = _ref.label,\n      label = _ref$label === void 0 ? '' : _ref$label;\n  return options.some(function (opt) {\n    return String(opt[label]).toLowerCase().includes(search.toLowerCase());\n  });\n};\n\nvar defaultRender = function defaultRender(inputValue, path, prefixCls, fieldNames) {\n  return path.map(function (opt) {\n    return opt[fieldNames.label];\n  }).join(' / ');\n};\n\nvar useSearchOptions = function useSearchOptions(search, options, fieldNames, prefixCls, config, enableHalfPath) {\n  var _config$filter = config.filter,\n      filter = _config$filter === void 0 ? defaultFilter : _config$filter,\n      _config$render = config.render,\n      render = _config$render === void 0 ? defaultRender : _config$render,\n      _config$limit = config.limit,\n      limit = _config$limit === void 0 ? 50 : _config$limit,\n      sort = config.sort;\n  return React.useMemo(function () {\n    var filteredOptions = [];\n\n    if (!search) {\n      return [];\n    }\n\n    function dig(list, pathOptions) {\n      var parentDisabled = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      list.forEach(function (option) {\n        // Perf saving when `sort` is disabled and `limit` is provided\n        if (!sort && limit !== false && limit > 0 && filteredOptions.length >= limit) {\n          return;\n        }\n\n        var connectedPathOptions = [].concat(_toConsumableArray(pathOptions), [option]);\n        var children = option[fieldNames.children];\n        var mergedDisabled = parentDisabled || option.disabled; // If current option is filterable\n\n        if ( // If is leaf option\n        !children || children.length === 0 || // If is changeOnSelect or multiple\n        enableHalfPath) {\n          if (filter(search, connectedPathOptions, {\n            label: fieldNames.label\n          })) {\n            var _objectSpread2;\n\n            filteredOptions.push(_objectSpread(_objectSpread({}, option), {}, (_objectSpread2 = {\n              disabled: mergedDisabled\n            }, _defineProperty(_objectSpread2, fieldNames.label, render(search, connectedPathOptions, prefixCls, fieldNames)), _defineProperty(_objectSpread2, SEARCH_MARK, connectedPathOptions), _defineProperty(_objectSpread2, fieldNames.children, undefined), _objectSpread2)));\n          }\n        }\n\n        if (children) {\n          dig(option[fieldNames.children], connectedPathOptions, mergedDisabled);\n        }\n      });\n    }\n\n    dig(options, []); // Do sort\n\n    if (sort) {\n      filteredOptions.sort(function (a, b) {\n        return sort(a[SEARCH_MARK], b[SEARCH_MARK], search, fieldNames);\n      });\n    }\n\n    return limit !== false && limit > 0 ? filteredOptions.slice(0, limit) : filteredOptions;\n  }, [search, options, fieldNames, prefixCls, render, enableHalfPath, filter, sort, limit]);\n};\n\nexport default useSearchOptions;","map":{"version":3,"sources":["/Users/malith_bandara/Desktop/AdminDashboard/node_modules/rc-cascader/es/hooks/useSearchOptions.js"],"names":["_defineProperty","_objectSpread","_toConsumableArray","React","SEARCH_MARK","defaultFilter","search","options","_ref","_ref$label","label","some","opt","String","toLowerCase","includes","defaultRender","inputValue","path","prefixCls","fieldNames","map","join","useSearchOptions","config","enableHalfPath","_config$filter","filter","_config$render","render","_config$limit","limit","sort","useMemo","filteredOptions","dig","list","pathOptions","parentDisabled","arguments","length","undefined","forEach","option","connectedPathOptions","concat","children","mergedDisabled","disabled","_objectSpread2","push","a","b","slice"],"mappings":"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","sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport * as React from 'react';\nexport var SEARCH_MARK = '__rc_cascader_search_mark__';\nvar defaultFilter = function defaultFilter(search, options, _ref) {\n  var _ref$label = _ref.label,\n    label = _ref$label === void 0 ? '' : _ref$label;\n  return options.some(function (opt) {\n    return String(opt[label]).toLowerCase().includes(search.toLowerCase());\n  });\n};\nvar defaultRender = function defaultRender(inputValue, path, prefixCls, fieldNames) {\n  return path.map(function (opt) {\n    return opt[fieldNames.label];\n  }).join(' / ');\n};\nvar useSearchOptions = function useSearchOptions(search, options, fieldNames, prefixCls, config, enableHalfPath) {\n  var _config$filter = config.filter,\n    filter = _config$filter === void 0 ? defaultFilter : _config$filter,\n    _config$render = config.render,\n    render = _config$render === void 0 ? defaultRender : _config$render,\n    _config$limit = config.limit,\n    limit = _config$limit === void 0 ? 50 : _config$limit,\n    sort = config.sort;\n  return React.useMemo(function () {\n    var filteredOptions = [];\n    if (!search) {\n      return [];\n    }\n    function dig(list, pathOptions) {\n      var parentDisabled = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      list.forEach(function (option) {\n        // Perf saving when `sort` is disabled and `limit` is provided\n        if (!sort && limit !== false && limit > 0 && filteredOptions.length >= limit) {\n          return;\n        }\n        var connectedPathOptions = [].concat(_toConsumableArray(pathOptions), [option]);\n        var children = option[fieldNames.children];\n        var mergedDisabled = parentDisabled || option.disabled;\n\n        // If current option is filterable\n        if (\n        // If is leaf option\n        !children || children.length === 0 ||\n        // If is changeOnSelect or multiple\n        enableHalfPath) {\n          if (filter(search, connectedPathOptions, {\n            label: fieldNames.label\n          })) {\n            var _objectSpread2;\n            filteredOptions.push(_objectSpread(_objectSpread({}, option), {}, (_objectSpread2 = {\n              disabled: mergedDisabled\n            }, _defineProperty(_objectSpread2, fieldNames.label, render(search, connectedPathOptions, prefixCls, fieldNames)), _defineProperty(_objectSpread2, SEARCH_MARK, connectedPathOptions), _defineProperty(_objectSpread2, fieldNames.children, undefined), _objectSpread2)));\n          }\n        }\n        if (children) {\n          dig(option[fieldNames.children], connectedPathOptions, mergedDisabled);\n        }\n      });\n    }\n    dig(options, []);\n\n    // Do sort\n    if (sort) {\n      filteredOptions.sort(function (a, b) {\n        return sort(a[SEARCH_MARK], b[SEARCH_MARK], search, fieldNames);\n      });\n    }\n    return limit !== false && limit > 0 ? filteredOptions.slice(0, limit) : filteredOptions;\n  }, [search, options, fieldNames, prefixCls, render, enableHalfPath, filter, sort, limit]);\n};\nexport default useSearchOptions;"]},"metadata":{},"sourceType":"module"}