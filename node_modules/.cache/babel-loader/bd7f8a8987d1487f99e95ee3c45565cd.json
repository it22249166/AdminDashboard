{"ast":null,"code":"import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport React from 'react';\nimport { token2CSSVar, useCSSVarRegister, useStyleRegister } from '@ant-design/cssinjs';\nimport genCalc from \"./calc\";\nimport getCompVarPrefix from \"./getCompVarPrefix\";\nimport getComponentToken from \"./getComponentToken\";\nimport getDefaultComponentToken from \"./getDefaultComponentToken\";\nimport genMaxMin from \"./maxmin\";\nimport statisticToken, { merge as mergeToken } from \"./statistic\";\nimport useUniqueMemo from \"../_util/hooks/useUniqueMemo\";\nimport useDefaultCSP from \"../hooks/useCSP\";\n\nfunction genStyleUtils(config) {\n  // Dependency inversion for preparing basic config.\n  var _config$useCSP = config.useCSP,\n      useCSP = _config$useCSP === void 0 ? useDefaultCSP : _config$useCSP,\n      useToken = config.useToken,\n      usePrefix = config.usePrefix,\n      getResetStyles = config.getResetStyles,\n      getCommonStyle = config.getCommonStyle,\n      getCompUnitless = config.getCompUnitless;\n\n  function genStyleHooks(component, styleFn, getDefaultToken, options) {\n    var componentName = Array.isArray(component) ? component[0] : component;\n\n    function prefixToken(key) {\n      return \"\".concat(String(componentName)).concat(key.slice(0, 1).toUpperCase()).concat(key.slice(1));\n    } // Fill unitless\n\n\n    var originUnitless = (options === null || options === void 0 ? void 0 : options.unitless) || {};\n    var originCompUnitless = typeof getCompUnitless === 'function' ? getCompUnitless(component) : {};\n\n    var compUnitless = _objectSpread(_objectSpread({}, originCompUnitless), {}, _defineProperty({}, prefixToken('zIndexPopup'), true));\n\n    Object.keys(originUnitless).forEach(function (key) {\n      compUnitless[prefixToken(key)] = originUnitless[key];\n    }); // Options\n\n    var mergedOptions = _objectSpread(_objectSpread({}, options), {}, {\n      unitless: compUnitless,\n      prefixToken: prefixToken\n    }); // Hooks\n\n\n    var useStyle = genComponentStyleHook(component, styleFn, getDefaultToken, mergedOptions);\n    var useCSSVar = genCSSVarRegister(componentName, getDefaultToken, mergedOptions);\n    return function (prefixCls) {\n      var rootCls = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : prefixCls;\n\n      var _useStyle = useStyle(prefixCls, rootCls),\n          _useStyle2 = _slicedToArray(_useStyle, 2),\n          hashId = _useStyle2[1];\n\n      var _useCSSVar = useCSSVar(rootCls),\n          _useCSSVar2 = _slicedToArray(_useCSSVar, 2),\n          wrapCSSVar = _useCSSVar2[0],\n          cssVarCls = _useCSSVar2[1];\n\n      return [wrapCSSVar, hashId, cssVarCls];\n    };\n  }\n\n  function genCSSVarRegister(component, getDefaultToken, options) {\n    var compUnitless = options.unitless,\n        _options$injectStyle = options.injectStyle,\n        injectStyle = _options$injectStyle === void 0 ? true : _options$injectStyle,\n        prefixToken = options.prefixToken,\n        ignore = options.ignore;\n\n    var CSSVarRegister = function CSSVarRegister(_ref) {\n      var rootCls = _ref.rootCls,\n          _ref$cssVar = _ref.cssVar,\n          cssVar = _ref$cssVar === void 0 ? {} : _ref$cssVar;\n\n      var _useToken = useToken(),\n          realToken = _useToken.realToken;\n\n      useCSSVarRegister({\n        path: [component],\n        prefix: cssVar.prefix,\n        key: cssVar.key,\n        unitless: compUnitless,\n        ignore: ignore,\n        token: realToken,\n        scope: rootCls\n      }, function () {\n        var defaultToken = getDefaultComponentToken(component, realToken, getDefaultToken);\n        var componentToken = getComponentToken(component, realToken, defaultToken, {\n          deprecatedTokens: options === null || options === void 0 ? void 0 : options.deprecatedTokens\n        });\n        Object.keys(defaultToken).forEach(function (key) {\n          componentToken[prefixToken(key)] = componentToken[key];\n          delete componentToken[key];\n        });\n        return componentToken;\n      });\n      return null;\n    };\n\n    var useCSSVar = function useCSSVar(rootCls) {\n      var _useToken2 = useToken(),\n          cssVar = _useToken2.cssVar;\n\n      return [function (node) {\n        return injectStyle && cssVar ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CSSVarRegister, {\n          rootCls: rootCls,\n          cssVar: cssVar,\n          component: component\n        }), node) : node;\n      }, cssVar === null || cssVar === void 0 ? void 0 : cssVar.key];\n    };\n\n    return useCSSVar;\n  }\n\n  function genComponentStyleHook(componentName, styleFn, getDefaultToken) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    var cells = Array.isArray(componentName) ? componentName : [componentName, componentName];\n\n    var _cells = _slicedToArray(cells, 1),\n        component = _cells[0];\n\n    var concatComponent = cells.join('-');\n    var mergedLayer = config.layer || {\n      name: 'antd'\n    }; // Return new style hook\n\n    return function (prefixCls) {\n      var rootCls = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : prefixCls;\n\n      var _useToken3 = useToken(),\n          theme = _useToken3.theme,\n          realToken = _useToken3.realToken,\n          hashId = _useToken3.hashId,\n          token = _useToken3.token,\n          cssVar = _useToken3.cssVar;\n\n      var _usePrefix = usePrefix(),\n          rootPrefixCls = _usePrefix.rootPrefixCls,\n          iconPrefixCls = _usePrefix.iconPrefixCls;\n\n      var csp = useCSP();\n      var type = cssVar ? 'css' : 'js'; // Use unique memo to share the result across all instances\n\n      var calc = useUniqueMemo(function () {\n        var unitlessCssVar = new Set();\n\n        if (cssVar) {\n          Object.keys(options.unitless || {}).forEach(function (key) {\n            // Some component proxy the AliasToken (e.g. Image) and some not (e.g. Modal)\n            // We should both pass in `unitlessCssVar` to make sure the CSSVar can be unitless.\n            unitlessCssVar.add(token2CSSVar(key, cssVar.prefix));\n            unitlessCssVar.add(token2CSSVar(key, getCompVarPrefix(component, cssVar.prefix)));\n          });\n        }\n\n        return genCalc(type, unitlessCssVar);\n      }, [type, component, cssVar === null || cssVar === void 0 ? void 0 : cssVar.prefix]);\n\n      var _genMaxMin = genMaxMin(type),\n          max = _genMaxMin.max,\n          min = _genMaxMin.min; // Shared config\n\n\n      var sharedConfig = {\n        theme: theme,\n        token: token,\n        hashId: hashId,\n        nonce: function nonce() {\n          return csp.nonce;\n        },\n        clientOnly: options.clientOnly,\n        layer: mergedLayer,\n        // antd is always at top of styles\n        order: options.order || -999\n      }; // This if statement is safe, as it will only be used if the generator has the function. It's not dynamic.\n\n      if (typeof getResetStyles === 'function') {\n        // Generate style for all need reset tags.\n        useStyleRegister(_objectSpread(_objectSpread({}, sharedConfig), {}, {\n          clientOnly: false,\n          path: ['Shared', rootPrefixCls]\n        }), function () {\n          return getResetStyles(token, {\n            prefix: {\n              rootPrefixCls: rootPrefixCls,\n              iconPrefixCls: iconPrefixCls\n            },\n            csp: csp\n          });\n        });\n      }\n\n      var wrapSSR = useStyleRegister(_objectSpread(_objectSpread({}, sharedConfig), {}, {\n        path: [concatComponent, prefixCls, iconPrefixCls]\n      }), function () {\n        if (options.injectStyle === false) {\n          return [];\n        }\n\n        var _statisticToken = statisticToken(token),\n            proxyToken = _statisticToken.token,\n            flush = _statisticToken.flush;\n\n        var defaultComponentToken = getDefaultComponentToken(component, realToken, getDefaultToken);\n        var componentCls = \".\".concat(prefixCls);\n        var componentToken = getComponentToken(component, realToken, defaultComponentToken, {\n          deprecatedTokens: options.deprecatedTokens\n        });\n\n        if (cssVar && defaultComponentToken && _typeof(defaultComponentToken) === 'object') {\n          Object.keys(defaultComponentToken).forEach(function (key) {\n            defaultComponentToken[key] = \"var(\".concat(token2CSSVar(key, getCompVarPrefix(component, cssVar.prefix)), \")\");\n          });\n        }\n\n        var mergedToken = mergeToken(proxyToken, {\n          componentCls: componentCls,\n          prefixCls: prefixCls,\n          iconCls: \".\".concat(iconPrefixCls),\n          antCls: \".\".concat(rootPrefixCls),\n          calc: calc,\n          // @ts-ignore\n          max: max,\n          // @ts-ignore\n          min: min\n        }, cssVar ? defaultComponentToken : componentToken);\n        var styleInterpolation = styleFn(mergedToken, {\n          hashId: hashId,\n          prefixCls: prefixCls,\n          rootPrefixCls: rootPrefixCls,\n          iconPrefixCls: iconPrefixCls\n        });\n        flush(component, componentToken);\n        var commonStyle = typeof getCommonStyle === 'function' ? getCommonStyle(mergedToken, prefixCls, rootCls, options.resetFont) : null;\n        return [options.resetStyle === false ? null : commonStyle, styleInterpolation];\n      });\n      return [wrapSSR, hashId];\n    };\n  }\n\n  function genSubStyleComponent(componentName, styleFn, getDefaultToken) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    var useStyle = genComponentStyleHook(componentName, styleFn, getDefaultToken, _objectSpread({\n      resetStyle: false,\n      // Sub Style should default after root one\n      order: -998\n    }, options));\n\n    var StyledComponent = function StyledComponent(_ref2) {\n      var prefixCls = _ref2.prefixCls,\n          _ref2$rootCls = _ref2.rootCls,\n          rootCls = _ref2$rootCls === void 0 ? prefixCls : _ref2$rootCls;\n      useStyle(prefixCls, rootCls);\n      return null;\n    };\n\n    if (process.env.NODE_ENV !== 'production') {\n      StyledComponent.displayName = \"SubStyle_\".concat(String(Array.isArray(componentName) ? componentName.join('.') : componentName));\n    }\n\n    return StyledComponent;\n  }\n\n  return {\n    genStyleHooks: genStyleHooks,\n    genSubStyleComponent: genSubStyleComponent,\n    genComponentStyleHook: genComponentStyleHook\n  };\n}\n\nexport default genStyleUtils;","map":{"version":3,"sources":["/Users/malith_bandara/Desktop/AdminDashboard/node_modules/@ant-design/cssinjs-utils/es/util/genStyleUtils.js"],"names":["_typeof","_slicedToArray","_defineProperty","_objectSpread","React","token2CSSVar","useCSSVarRegister","useStyleRegister","genCalc","getCompVarPrefix","getComponentToken","getDefaultComponentToken","genMaxMin","statisticToken","merge","mergeToken","useUniqueMemo","useDefaultCSP","genStyleUtils","config","_config$useCSP","useCSP","useToken","usePrefix","getResetStyles","getCommonStyle","getCompUnitless","genStyleHooks","component","styleFn","getDefaultToken","options","componentName","Array","isArray","prefixToken","key","concat","String","slice","toUpperCase","originUnitless","unitless","originCompUnitless","compUnitless","Object","keys","forEach","mergedOptions","useStyle","genComponentStyleHook","useCSSVar","genCSSVarRegister","prefixCls","rootCls","arguments","length","undefined","_useStyle","_useStyle2","hashId","_useCSSVar","_useCSSVar2","wrapCSSVar","cssVarCls","_options$injectStyle","injectStyle","ignore","CSSVarRegister","_ref","_ref$cssVar","cssVar","_useToken","realToken","path","prefix","token","scope","defaultToken","componentToken","deprecatedTokens","_useToken2","node","createElement","Fragment","cells","_cells","concatComponent","join","mergedLayer","layer","name","_useToken3","theme","_usePrefix","rootPrefixCls","iconPrefixCls","csp","type","calc","unitlessCssVar","Set","add","_genMaxMin","max","min","sharedConfig","nonce","clientOnly","order","wrapSSR","_statisticToken","proxyToken","flush","defaultComponentToken","componentCls","mergedToken","iconCls","antCls","styleInterpolation","commonStyle","resetFont","resetStyle","genSubStyleComponent","StyledComponent","_ref2","_ref2$rootCls","process","env","NODE_ENV","displayName"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,mCAApB;AACA,OAAOC,cAAP,MAA2B,0CAA3B;AACA,OAAOC,eAAP,MAA4B,2CAA5B;AACA,OAAOC,aAAP,MAA0B,0CAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,YAAT,EAAuBC,iBAAvB,EAA0CC,gBAA1C,QAAkE,qBAAlE;AACA,OAAOC,OAAP,MAAoB,QAApB;AACA,OAAOC,gBAAP,MAA6B,oBAA7B;AACA,OAAOC,iBAAP,MAA8B,qBAA9B;AACA,OAAOC,wBAAP,MAAqC,4BAArC;AACA,OAAOC,SAAP,MAAsB,UAAtB;AACA,OAAOC,cAAP,IAAyBC,KAAK,IAAIC,UAAlC,QAAoD,aAApD;AACA,OAAOC,aAAP,MAA0B,8BAA1B;AACA,OAAOC,aAAP,MAA0B,iBAA1B;;AACA,SAASC,aAAT,CAAuBC,MAAvB,EAA+B;AAC7B;AACA,MAAIC,cAAc,GAAGD,MAAM,CAACE,MAA5B;AAAA,MACEA,MAAM,GAAGD,cAAc,KAAK,KAAK,CAAxB,GAA4BH,aAA5B,GAA4CG,cADvD;AAAA,MAEEE,QAAQ,GAAGH,MAAM,CAACG,QAFpB;AAAA,MAGEC,SAAS,GAAGJ,MAAM,CAACI,SAHrB;AAAA,MAIEC,cAAc,GAAGL,MAAM,CAACK,cAJ1B;AAAA,MAKEC,cAAc,GAAGN,MAAM,CAACM,cAL1B;AAAA,MAMEC,eAAe,GAAGP,MAAM,CAACO,eAN3B;;AAOA,WAASC,aAAT,CAAuBC,SAAvB,EAAkCC,OAAlC,EAA2CC,eAA3C,EAA4DC,OAA5D,EAAqE;AACnE,QAAIC,aAAa,GAAGC,KAAK,CAACC,OAAN,CAAcN,SAAd,IAA2BA,SAAS,CAAC,CAAD,CAApC,GAA0CA,SAA9D;;AACA,aAASO,WAAT,CAAqBC,GAArB,EAA0B;AACxB,aAAO,GAAGC,MAAH,CAAUC,MAAM,CAACN,aAAD,CAAhB,EAAiCK,MAAjC,CAAwCD,GAAG,CAACG,KAAJ,CAAU,CAAV,EAAa,CAAb,EAAgBC,WAAhB,EAAxC,EAAuEH,MAAvE,CAA8ED,GAAG,CAACG,KAAJ,CAAU,CAAV,CAA9E,CAAP;AACD,KAJkE,CAMnE;;;AACA,QAAIE,cAAc,GAAG,CAACV,OAAO,KAAK,IAAZ,IAAoBA,OAAO,KAAK,KAAK,CAArC,GAAyC,KAAK,CAA9C,GAAkDA,OAAO,CAACW,QAA3D,KAAwE,EAA7F;AACA,QAAIC,kBAAkB,GAAG,OAAOjB,eAAP,KAA2B,UAA3B,GAAwCA,eAAe,CAACE,SAAD,CAAvD,GAAqE,EAA9F;;AACA,QAAIgB,YAAY,GAAGzC,aAAa,CAACA,aAAa,CAAC,EAAD,EAAKwC,kBAAL,CAAd,EAAwC,EAAxC,EAA4CzC,eAAe,CAAC,EAAD,EAAKiC,WAAW,CAAC,aAAD,CAAhB,EAAiC,IAAjC,CAA3D,CAAhC;;AACAU,IAAAA,MAAM,CAACC,IAAP,CAAYL,cAAZ,EAA4BM,OAA5B,CAAoC,UAAUX,GAAV,EAAe;AACjDQ,MAAAA,YAAY,CAACT,WAAW,CAACC,GAAD,CAAZ,CAAZ,GAAiCK,cAAc,CAACL,GAAD,CAA/C;AACD,KAFD,EAVmE,CAcnE;;AACA,QAAIY,aAAa,GAAG7C,aAAa,CAACA,aAAa,CAAC,EAAD,EAAK4B,OAAL,CAAd,EAA6B,EAA7B,EAAiC;AAChEW,MAAAA,QAAQ,EAAEE,YADsD;AAEhET,MAAAA,WAAW,EAAEA;AAFmD,KAAjC,CAAjC,CAfmE,CAoBnE;;;AACA,QAAIc,QAAQ,GAAGC,qBAAqB,CAACtB,SAAD,EAAYC,OAAZ,EAAqBC,eAArB,EAAsCkB,aAAtC,CAApC;AACA,QAAIG,SAAS,GAAGC,iBAAiB,CAACpB,aAAD,EAAgBF,eAAhB,EAAiCkB,aAAjC,CAAjC;AACA,WAAO,UAAUK,SAAV,EAAqB;AAC1B,UAAIC,OAAO,GAAGC,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoEF,SAAlF;;AACA,UAAIK,SAAS,GAAGT,QAAQ,CAACI,SAAD,EAAYC,OAAZ,CAAxB;AAAA,UACEK,UAAU,GAAG1D,cAAc,CAACyD,SAAD,EAAY,CAAZ,CAD7B;AAAA,UAEEE,MAAM,GAAGD,UAAU,CAAC,CAAD,CAFrB;;AAGA,UAAIE,UAAU,GAAGV,SAAS,CAACG,OAAD,CAA1B;AAAA,UACEQ,WAAW,GAAG7D,cAAc,CAAC4D,UAAD,EAAa,CAAb,CAD9B;AAAA,UAEEE,UAAU,GAAGD,WAAW,CAAC,CAAD,CAF1B;AAAA,UAGEE,SAAS,GAAGF,WAAW,CAAC,CAAD,CAHzB;;AAIA,aAAO,CAACC,UAAD,EAAaH,MAAb,EAAqBI,SAArB,CAAP;AACD,KAVD;AAWD;;AACD,WAASZ,iBAAT,CAA2BxB,SAA3B,EAAsCE,eAAtC,EAAuDC,OAAvD,EAAgE;AAC9D,QAAIa,YAAY,GAAGb,OAAO,CAACW,QAA3B;AAAA,QACEuB,oBAAoB,GAAGlC,OAAO,CAACmC,WADjC;AAAA,QAEEA,WAAW,GAAGD,oBAAoB,KAAK,KAAK,CAA9B,GAAkC,IAAlC,GAAyCA,oBAFzD;AAAA,QAGE9B,WAAW,GAAGJ,OAAO,CAACI,WAHxB;AAAA,QAIEgC,MAAM,GAAGpC,OAAO,CAACoC,MAJnB;;AAKA,QAAIC,cAAc,GAAG,SAASA,cAAT,CAAwBC,IAAxB,EAA8B;AACjD,UAAIf,OAAO,GAAGe,IAAI,CAACf,OAAnB;AAAA,UACEgB,WAAW,GAAGD,IAAI,CAACE,MADrB;AAAA,UAEEA,MAAM,GAAGD,WAAW,KAAK,KAAK,CAArB,GAAyB,EAAzB,GAA8BA,WAFzC;;AAGA,UAAIE,SAAS,GAAGlD,QAAQ,EAAxB;AAAA,UACEmD,SAAS,GAAGD,SAAS,CAACC,SADxB;;AAEAnE,MAAAA,iBAAiB,CAAC;AAChBoE,QAAAA,IAAI,EAAE,CAAC9C,SAAD,CADU;AAEhB+C,QAAAA,MAAM,EAAEJ,MAAM,CAACI,MAFC;AAGhBvC,QAAAA,GAAG,EAAEmC,MAAM,CAACnC,GAHI;AAIhBM,QAAAA,QAAQ,EAAEE,YAJM;AAKhBuB,QAAAA,MAAM,EAAEA,MALQ;AAMhBS,QAAAA,KAAK,EAAEH,SANS;AAOhBI,QAAAA,KAAK,EAAEvB;AAPS,OAAD,EAQd,YAAY;AACb,YAAIwB,YAAY,GAAGnE,wBAAwB,CAACiB,SAAD,EAAY6C,SAAZ,EAAuB3C,eAAvB,CAA3C;AACA,YAAIiD,cAAc,GAAGrE,iBAAiB,CAACkB,SAAD,EAAY6C,SAAZ,EAAuBK,YAAvB,EAAqC;AACzEE,UAAAA,gBAAgB,EAAEjD,OAAO,KAAK,IAAZ,IAAoBA,OAAO,KAAK,KAAK,CAArC,GAAyC,KAAK,CAA9C,GAAkDA,OAAO,CAACiD;AADH,SAArC,CAAtC;AAGAnC,QAAAA,MAAM,CAACC,IAAP,CAAYgC,YAAZ,EAA0B/B,OAA1B,CAAkC,UAAUX,GAAV,EAAe;AAC/C2C,UAAAA,cAAc,CAAC5C,WAAW,CAACC,GAAD,CAAZ,CAAd,GAAmC2C,cAAc,CAAC3C,GAAD,CAAjD;AACA,iBAAO2C,cAAc,CAAC3C,GAAD,CAArB;AACD,SAHD;AAIA,eAAO2C,cAAP;AACD,OAlBgB,CAAjB;AAmBA,aAAO,IAAP;AACD,KA1BD;;AA2BA,QAAI5B,SAAS,GAAG,SAASA,SAAT,CAAmBG,OAAnB,EAA4B;AAC1C,UAAI2B,UAAU,GAAG3D,QAAQ,EAAzB;AAAA,UACEiD,MAAM,GAAGU,UAAU,CAACV,MADtB;;AAEA,aAAO,CAAC,UAAUW,IAAV,EAAgB;AACtB,eAAOhB,WAAW,IAAIK,MAAf,GAAwB,aAAanE,KAAK,CAAC+E,aAAN,CAAoB/E,KAAK,CAACgF,QAA1B,EAAoC,IAApC,EAA0C,aAAahF,KAAK,CAAC+E,aAAN,CAAoBf,cAApB,EAAoC;AACrId,UAAAA,OAAO,EAAEA,OAD4H;AAErIiB,UAAAA,MAAM,EAAEA,MAF6H;AAGrI3C,UAAAA,SAAS,EAAEA;AAH0H,SAApC,CAAvD,EAIxCsD,IAJwC,CAArC,GAIKA,IAJZ;AAKD,OANM,EAMJX,MAAM,KAAK,IAAX,IAAmBA,MAAM,KAAK,KAAK,CAAnC,GAAuC,KAAK,CAA5C,GAAgDA,MAAM,CAACnC,GANnD,CAAP;AAOD,KAVD;;AAWA,WAAOe,SAAP;AACD;;AACD,WAASD,qBAAT,CAA+BlB,aAA/B,EAA8CH,OAA9C,EAAuDC,eAAvD,EAAwE;AACtE,QAAIC,OAAO,GAAGwB,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAAlF;AACA,QAAI8B,KAAK,GAAGpD,KAAK,CAACC,OAAN,CAAcF,aAAd,IAA+BA,aAA/B,GAA+C,CAACA,aAAD,EAAgBA,aAAhB,CAA3D;;AACA,QAAIsD,MAAM,GAAGrF,cAAc,CAACoF,KAAD,EAAQ,CAAR,CAA3B;AAAA,QACEzD,SAAS,GAAG0D,MAAM,CAAC,CAAD,CADpB;;AAEA,QAAIC,eAAe,GAAGF,KAAK,CAACG,IAAN,CAAW,GAAX,CAAtB;AACA,QAAIC,WAAW,GAAGtE,MAAM,CAACuE,KAAP,IAAgB;AAChCC,MAAAA,IAAI,EAAE;AAD0B,KAAlC,CANsE,CAUtE;;AACA,WAAO,UAAUtC,SAAV,EAAqB;AAC1B,UAAIC,OAAO,GAAGC,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoEF,SAAlF;;AACA,UAAIuC,UAAU,GAAGtE,QAAQ,EAAzB;AAAA,UACEuE,KAAK,GAAGD,UAAU,CAACC,KADrB;AAAA,UAEEpB,SAAS,GAAGmB,UAAU,CAACnB,SAFzB;AAAA,UAGEb,MAAM,GAAGgC,UAAU,CAAChC,MAHtB;AAAA,UAIEgB,KAAK,GAAGgB,UAAU,CAAChB,KAJrB;AAAA,UAKEL,MAAM,GAAGqB,UAAU,CAACrB,MALtB;;AAMA,UAAIuB,UAAU,GAAGvE,SAAS,EAA1B;AAAA,UACEwE,aAAa,GAAGD,UAAU,CAACC,aAD7B;AAAA,UAEEC,aAAa,GAAGF,UAAU,CAACE,aAF7B;;AAGA,UAAIC,GAAG,GAAG5E,MAAM,EAAhB;AACA,UAAI6E,IAAI,GAAG3B,MAAM,GAAG,KAAH,GAAW,IAA5B,CAZ0B,CAc1B;;AACA,UAAI4B,IAAI,GAAGnF,aAAa,CAAC,YAAY;AACnC,YAAIoF,cAAc,GAAG,IAAIC,GAAJ,EAArB;;AACA,YAAI9B,MAAJ,EAAY;AACV1B,UAAAA,MAAM,CAACC,IAAP,CAAYf,OAAO,CAACW,QAAR,IAAoB,EAAhC,EAAoCK,OAApC,CAA4C,UAAUX,GAAV,EAAe;AACzD;AACA;AACAgE,YAAAA,cAAc,CAACE,GAAf,CAAmBjG,YAAY,CAAC+B,GAAD,EAAMmC,MAAM,CAACI,MAAb,CAA/B;AACAyB,YAAAA,cAAc,CAACE,GAAf,CAAmBjG,YAAY,CAAC+B,GAAD,EAAM3B,gBAAgB,CAACmB,SAAD,EAAY2C,MAAM,CAACI,MAAnB,CAAtB,CAA/B;AACD,WALD;AAMD;;AACD,eAAOnE,OAAO,CAAC0F,IAAD,EAAOE,cAAP,CAAd;AACD,OAXuB,EAWrB,CAACF,IAAD,EAAOtE,SAAP,EAAkB2C,MAAM,KAAK,IAAX,IAAmBA,MAAM,KAAK,KAAK,CAAnC,GAAuC,KAAK,CAA5C,GAAgDA,MAAM,CAACI,MAAzE,CAXqB,CAAxB;;AAYA,UAAI4B,UAAU,GAAG3F,SAAS,CAACsF,IAAD,CAA1B;AAAA,UACEM,GAAG,GAAGD,UAAU,CAACC,GADnB;AAAA,UAEEC,GAAG,GAAGF,UAAU,CAACE,GAFnB,CA3B0B,CA+B1B;;;AACA,UAAIC,YAAY,GAAG;AACjBb,QAAAA,KAAK,EAAEA,KADU;AAEjBjB,QAAAA,KAAK,EAAEA,KAFU;AAGjBhB,QAAAA,MAAM,EAAEA,MAHS;AAIjB+C,QAAAA,KAAK,EAAE,SAASA,KAAT,GAAiB;AACtB,iBAAOV,GAAG,CAACU,KAAX;AACD,SANgB;AAOjBC,QAAAA,UAAU,EAAE7E,OAAO,CAAC6E,UAPH;AAQjBlB,QAAAA,KAAK,EAAED,WARU;AASjB;AACAoB,QAAAA,KAAK,EAAE9E,OAAO,CAAC8E,KAAR,IAAiB,CAAC;AAVR,OAAnB,CAhC0B,CA6C1B;;AACA,UAAI,OAAOrF,cAAP,KAA0B,UAA9B,EAA0C;AACxC;AACAjB,QAAAA,gBAAgB,CAACJ,aAAa,CAACA,aAAa,CAAC,EAAD,EAAKuG,YAAL,CAAd,EAAkC,EAAlC,EAAsC;AAClEE,UAAAA,UAAU,EAAE,KADsD;AAElElC,UAAAA,IAAI,EAAE,CAAC,QAAD,EAAWqB,aAAX;AAF4D,SAAtC,CAAd,EAGZ,YAAY;AACd,iBAAOvE,cAAc,CAACoD,KAAD,EAAQ;AAC3BD,YAAAA,MAAM,EAAE;AACNoB,cAAAA,aAAa,EAAEA,aADT;AAENC,cAAAA,aAAa,EAAEA;AAFT,aADmB;AAK3BC,YAAAA,GAAG,EAAEA;AALsB,WAAR,CAArB;AAOD,SAXe,CAAhB;AAYD;;AACD,UAAIa,OAAO,GAAGvG,gBAAgB,CAACJ,aAAa,CAACA,aAAa,CAAC,EAAD,EAAKuG,YAAL,CAAd,EAAkC,EAAlC,EAAsC;AAChFhC,QAAAA,IAAI,EAAE,CAACa,eAAD,EAAkBlC,SAAlB,EAA6B2C,aAA7B;AAD0E,OAAtC,CAAd,EAE1B,YAAY;AACd,YAAIjE,OAAO,CAACmC,WAAR,KAAwB,KAA5B,EAAmC;AACjC,iBAAO,EAAP;AACD;;AACD,YAAI6C,eAAe,GAAGlG,cAAc,CAAC+D,KAAD,CAApC;AAAA,YACEoC,UAAU,GAAGD,eAAe,CAACnC,KAD/B;AAAA,YAEEqC,KAAK,GAAGF,eAAe,CAACE,KAF1B;;AAGA,YAAIC,qBAAqB,GAAGvG,wBAAwB,CAACiB,SAAD,EAAY6C,SAAZ,EAAuB3C,eAAvB,CAApD;AACA,YAAIqF,YAAY,GAAG,IAAI9E,MAAJ,CAAWgB,SAAX,CAAnB;AACA,YAAI0B,cAAc,GAAGrE,iBAAiB,CAACkB,SAAD,EAAY6C,SAAZ,EAAuByC,qBAAvB,EAA8C;AAClFlC,UAAAA,gBAAgB,EAAEjD,OAAO,CAACiD;AADwD,SAA9C,CAAtC;;AAGA,YAAIT,MAAM,IAAI2C,qBAAV,IAAmClH,OAAO,CAACkH,qBAAD,CAAP,KAAmC,QAA1E,EAAoF;AAClFrE,UAAAA,MAAM,CAACC,IAAP,CAAYoE,qBAAZ,EAAmCnE,OAAnC,CAA2C,UAAUX,GAAV,EAAe;AACxD8E,YAAAA,qBAAqB,CAAC9E,GAAD,CAArB,GAA6B,OAAOC,MAAP,CAAchC,YAAY,CAAC+B,GAAD,EAAM3B,gBAAgB,CAACmB,SAAD,EAAY2C,MAAM,CAACI,MAAnB,CAAtB,CAA1B,EAA6E,GAA7E,CAA7B;AACD,WAFD;AAGD;;AACD,YAAIyC,WAAW,GAAGrG,UAAU,CAACiG,UAAD,EAAa;AACvCG,UAAAA,YAAY,EAAEA,YADyB;AAEvC9D,UAAAA,SAAS,EAAEA,SAF4B;AAGvCgE,UAAAA,OAAO,EAAE,IAAIhF,MAAJ,CAAW2D,aAAX,CAH8B;AAIvCsB,UAAAA,MAAM,EAAE,IAAIjF,MAAJ,CAAW0D,aAAX,CAJ+B;AAKvCI,UAAAA,IAAI,EAAEA,IALiC;AAMvC;AACAK,UAAAA,GAAG,EAAEA,GAPkC;AAQvC;AACAC,UAAAA,GAAG,EAAEA;AATkC,SAAb,EAUzBlC,MAAM,GAAG2C,qBAAH,GAA2BnC,cAVR,CAA5B;AAWA,YAAIwC,kBAAkB,GAAG1F,OAAO,CAACuF,WAAD,EAAc;AAC5CxD,UAAAA,MAAM,EAAEA,MADoC;AAE5CP,UAAAA,SAAS,EAAEA,SAFiC;AAG5C0C,UAAAA,aAAa,EAAEA,aAH6B;AAI5CC,UAAAA,aAAa,EAAEA;AAJ6B,SAAd,CAAhC;AAMAiB,QAAAA,KAAK,CAACrF,SAAD,EAAYmD,cAAZ,CAAL;AACA,YAAIyC,WAAW,GAAG,OAAO/F,cAAP,KAA0B,UAA1B,GAAuCA,cAAc,CAAC2F,WAAD,EAAc/D,SAAd,EAAyBC,OAAzB,EAAkCvB,OAAO,CAAC0F,SAA1C,CAArD,GAA4G,IAA9H;AACA,eAAO,CAAC1F,OAAO,CAAC2F,UAAR,KAAuB,KAAvB,GAA+B,IAA/B,GAAsCF,WAAvC,EAAoDD,kBAApD,CAAP;AACD,OAvC6B,CAA9B;AAwCA,aAAO,CAACT,OAAD,EAAUlD,MAAV,CAAP;AACD,KAtGD;AAuGD;;AACD,WAAS+D,oBAAT,CAA8B3F,aAA9B,EAA6CH,OAA7C,EAAsDC,eAAtD,EAAuE;AACrE,QAAIC,OAAO,GAAGwB,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAAlF;AACA,QAAIN,QAAQ,GAAGC,qBAAqB,CAAClB,aAAD,EAAgBH,OAAhB,EAAyBC,eAAzB,EAA0C3B,aAAa,CAAC;AAC1FuH,MAAAA,UAAU,EAAE,KAD8E;AAE1F;AACAb,MAAAA,KAAK,EAAE,CAAC;AAHkF,KAAD,EAIxF9E,OAJwF,CAAvD,CAApC;;AAKA,QAAI6F,eAAe,GAAG,SAASA,eAAT,CAAyBC,KAAzB,EAAgC;AACpD,UAAIxE,SAAS,GAAGwE,KAAK,CAACxE,SAAtB;AAAA,UACEyE,aAAa,GAAGD,KAAK,CAACvE,OADxB;AAAA,UAEEA,OAAO,GAAGwE,aAAa,KAAK,KAAK,CAAvB,GAA2BzE,SAA3B,GAAuCyE,aAFnD;AAGA7E,MAAAA,QAAQ,CAACI,SAAD,EAAYC,OAAZ,CAAR;AACA,aAAO,IAAP;AACD,KAND;;AAOA,QAAIyE,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AACzCL,MAAAA,eAAe,CAACM,WAAhB,GAA8B,YAAY7F,MAAZ,CAAmBC,MAAM,CAACL,KAAK,CAACC,OAAN,CAAcF,aAAd,IAA+BA,aAAa,CAACwD,IAAd,CAAmB,GAAnB,CAA/B,GAAyDxD,aAA1D,CAAzB,CAA9B;AACD;;AACD,WAAO4F,eAAP;AACD;;AACD,SAAO;AACLjG,IAAAA,aAAa,EAAEA,aADV;AAELgG,IAAAA,oBAAoB,EAAEA,oBAFjB;AAGLzE,IAAAA,qBAAqB,EAAEA;AAHlB,GAAP;AAKD;;AACD,eAAehC,aAAf","sourcesContent":["import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport React from 'react';\nimport { token2CSSVar, useCSSVarRegister, useStyleRegister } from '@ant-design/cssinjs';\nimport genCalc from \"./calc\";\nimport getCompVarPrefix from \"./getCompVarPrefix\";\nimport getComponentToken from \"./getComponentToken\";\nimport getDefaultComponentToken from \"./getDefaultComponentToken\";\nimport genMaxMin from \"./maxmin\";\nimport statisticToken, { merge as mergeToken } from \"./statistic\";\nimport useUniqueMemo from \"../_util/hooks/useUniqueMemo\";\nimport useDefaultCSP from \"../hooks/useCSP\";\nfunction genStyleUtils(config) {\n  // Dependency inversion for preparing basic config.\n  var _config$useCSP = config.useCSP,\n    useCSP = _config$useCSP === void 0 ? useDefaultCSP : _config$useCSP,\n    useToken = config.useToken,\n    usePrefix = config.usePrefix,\n    getResetStyles = config.getResetStyles,\n    getCommonStyle = config.getCommonStyle,\n    getCompUnitless = config.getCompUnitless;\n  function genStyleHooks(component, styleFn, getDefaultToken, options) {\n    var componentName = Array.isArray(component) ? component[0] : component;\n    function prefixToken(key) {\n      return \"\".concat(String(componentName)).concat(key.slice(0, 1).toUpperCase()).concat(key.slice(1));\n    }\n\n    // Fill unitless\n    var originUnitless = (options === null || options === void 0 ? void 0 : options.unitless) || {};\n    var originCompUnitless = typeof getCompUnitless === 'function' ? getCompUnitless(component) : {};\n    var compUnitless = _objectSpread(_objectSpread({}, originCompUnitless), {}, _defineProperty({}, prefixToken('zIndexPopup'), true));\n    Object.keys(originUnitless).forEach(function (key) {\n      compUnitless[prefixToken(key)] = originUnitless[key];\n    });\n\n    // Options\n    var mergedOptions = _objectSpread(_objectSpread({}, options), {}, {\n      unitless: compUnitless,\n      prefixToken: prefixToken\n    });\n\n    // Hooks\n    var useStyle = genComponentStyleHook(component, styleFn, getDefaultToken, mergedOptions);\n    var useCSSVar = genCSSVarRegister(componentName, getDefaultToken, mergedOptions);\n    return function (prefixCls) {\n      var rootCls = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : prefixCls;\n      var _useStyle = useStyle(prefixCls, rootCls),\n        _useStyle2 = _slicedToArray(_useStyle, 2),\n        hashId = _useStyle2[1];\n      var _useCSSVar = useCSSVar(rootCls),\n        _useCSSVar2 = _slicedToArray(_useCSSVar, 2),\n        wrapCSSVar = _useCSSVar2[0],\n        cssVarCls = _useCSSVar2[1];\n      return [wrapCSSVar, hashId, cssVarCls];\n    };\n  }\n  function genCSSVarRegister(component, getDefaultToken, options) {\n    var compUnitless = options.unitless,\n      _options$injectStyle = options.injectStyle,\n      injectStyle = _options$injectStyle === void 0 ? true : _options$injectStyle,\n      prefixToken = options.prefixToken,\n      ignore = options.ignore;\n    var CSSVarRegister = function CSSVarRegister(_ref) {\n      var rootCls = _ref.rootCls,\n        _ref$cssVar = _ref.cssVar,\n        cssVar = _ref$cssVar === void 0 ? {} : _ref$cssVar;\n      var _useToken = useToken(),\n        realToken = _useToken.realToken;\n      useCSSVarRegister({\n        path: [component],\n        prefix: cssVar.prefix,\n        key: cssVar.key,\n        unitless: compUnitless,\n        ignore: ignore,\n        token: realToken,\n        scope: rootCls\n      }, function () {\n        var defaultToken = getDefaultComponentToken(component, realToken, getDefaultToken);\n        var componentToken = getComponentToken(component, realToken, defaultToken, {\n          deprecatedTokens: options === null || options === void 0 ? void 0 : options.deprecatedTokens\n        });\n        Object.keys(defaultToken).forEach(function (key) {\n          componentToken[prefixToken(key)] = componentToken[key];\n          delete componentToken[key];\n        });\n        return componentToken;\n      });\n      return null;\n    };\n    var useCSSVar = function useCSSVar(rootCls) {\n      var _useToken2 = useToken(),\n        cssVar = _useToken2.cssVar;\n      return [function (node) {\n        return injectStyle && cssVar ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CSSVarRegister, {\n          rootCls: rootCls,\n          cssVar: cssVar,\n          component: component\n        }), node) : node;\n      }, cssVar === null || cssVar === void 0 ? void 0 : cssVar.key];\n    };\n    return useCSSVar;\n  }\n  function genComponentStyleHook(componentName, styleFn, getDefaultToken) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    var cells = Array.isArray(componentName) ? componentName : [componentName, componentName];\n    var _cells = _slicedToArray(cells, 1),\n      component = _cells[0];\n    var concatComponent = cells.join('-');\n    var mergedLayer = config.layer || {\n      name: 'antd'\n    };\n\n    // Return new style hook\n    return function (prefixCls) {\n      var rootCls = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : prefixCls;\n      var _useToken3 = useToken(),\n        theme = _useToken3.theme,\n        realToken = _useToken3.realToken,\n        hashId = _useToken3.hashId,\n        token = _useToken3.token,\n        cssVar = _useToken3.cssVar;\n      var _usePrefix = usePrefix(),\n        rootPrefixCls = _usePrefix.rootPrefixCls,\n        iconPrefixCls = _usePrefix.iconPrefixCls;\n      var csp = useCSP();\n      var type = cssVar ? 'css' : 'js';\n\n      // Use unique memo to share the result across all instances\n      var calc = useUniqueMemo(function () {\n        var unitlessCssVar = new Set();\n        if (cssVar) {\n          Object.keys(options.unitless || {}).forEach(function (key) {\n            // Some component proxy the AliasToken (e.g. Image) and some not (e.g. Modal)\n            // We should both pass in `unitlessCssVar` to make sure the CSSVar can be unitless.\n            unitlessCssVar.add(token2CSSVar(key, cssVar.prefix));\n            unitlessCssVar.add(token2CSSVar(key, getCompVarPrefix(component, cssVar.prefix)));\n          });\n        }\n        return genCalc(type, unitlessCssVar);\n      }, [type, component, cssVar === null || cssVar === void 0 ? void 0 : cssVar.prefix]);\n      var _genMaxMin = genMaxMin(type),\n        max = _genMaxMin.max,\n        min = _genMaxMin.min;\n\n      // Shared config\n      var sharedConfig = {\n        theme: theme,\n        token: token,\n        hashId: hashId,\n        nonce: function nonce() {\n          return csp.nonce;\n        },\n        clientOnly: options.clientOnly,\n        layer: mergedLayer,\n        // antd is always at top of styles\n        order: options.order || -999\n      };\n\n      // This if statement is safe, as it will only be used if the generator has the function. It's not dynamic.\n      if (typeof getResetStyles === 'function') {\n        // Generate style for all need reset tags.\n        useStyleRegister(_objectSpread(_objectSpread({}, sharedConfig), {}, {\n          clientOnly: false,\n          path: ['Shared', rootPrefixCls]\n        }), function () {\n          return getResetStyles(token, {\n            prefix: {\n              rootPrefixCls: rootPrefixCls,\n              iconPrefixCls: iconPrefixCls\n            },\n            csp: csp\n          });\n        });\n      }\n      var wrapSSR = useStyleRegister(_objectSpread(_objectSpread({}, sharedConfig), {}, {\n        path: [concatComponent, prefixCls, iconPrefixCls]\n      }), function () {\n        if (options.injectStyle === false) {\n          return [];\n        }\n        var _statisticToken = statisticToken(token),\n          proxyToken = _statisticToken.token,\n          flush = _statisticToken.flush;\n        var defaultComponentToken = getDefaultComponentToken(component, realToken, getDefaultToken);\n        var componentCls = \".\".concat(prefixCls);\n        var componentToken = getComponentToken(component, realToken, defaultComponentToken, {\n          deprecatedTokens: options.deprecatedTokens\n        });\n        if (cssVar && defaultComponentToken && _typeof(defaultComponentToken) === 'object') {\n          Object.keys(defaultComponentToken).forEach(function (key) {\n            defaultComponentToken[key] = \"var(\".concat(token2CSSVar(key, getCompVarPrefix(component, cssVar.prefix)), \")\");\n          });\n        }\n        var mergedToken = mergeToken(proxyToken, {\n          componentCls: componentCls,\n          prefixCls: prefixCls,\n          iconCls: \".\".concat(iconPrefixCls),\n          antCls: \".\".concat(rootPrefixCls),\n          calc: calc,\n          // @ts-ignore\n          max: max,\n          // @ts-ignore\n          min: min\n        }, cssVar ? defaultComponentToken : componentToken);\n        var styleInterpolation = styleFn(mergedToken, {\n          hashId: hashId,\n          prefixCls: prefixCls,\n          rootPrefixCls: rootPrefixCls,\n          iconPrefixCls: iconPrefixCls\n        });\n        flush(component, componentToken);\n        var commonStyle = typeof getCommonStyle === 'function' ? getCommonStyle(mergedToken, prefixCls, rootCls, options.resetFont) : null;\n        return [options.resetStyle === false ? null : commonStyle, styleInterpolation];\n      });\n      return [wrapSSR, hashId];\n    };\n  }\n  function genSubStyleComponent(componentName, styleFn, getDefaultToken) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    var useStyle = genComponentStyleHook(componentName, styleFn, getDefaultToken, _objectSpread({\n      resetStyle: false,\n      // Sub Style should default after root one\n      order: -998\n    }, options));\n    var StyledComponent = function StyledComponent(_ref2) {\n      var prefixCls = _ref2.prefixCls,\n        _ref2$rootCls = _ref2.rootCls,\n        rootCls = _ref2$rootCls === void 0 ? prefixCls : _ref2$rootCls;\n      useStyle(prefixCls, rootCls);\n      return null;\n    };\n    if (process.env.NODE_ENV !== 'production') {\n      StyledComponent.displayName = \"SubStyle_\".concat(String(Array.isArray(componentName) ? componentName.join('.') : componentName));\n    }\n    return StyledComponent;\n  }\n  return {\n    genStyleHooks: genStyleHooks,\n    genSubStyleComponent: genSubStyleComponent,\n    genComponentStyleHook: genComponentStyleHook\n  };\n}\nexport default genStyleUtils;"]},"metadata":{},"sourceType":"module"}