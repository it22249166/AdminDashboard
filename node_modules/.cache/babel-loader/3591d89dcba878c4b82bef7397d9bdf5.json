{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport classNames from 'classnames';\nimport CSSMotion from 'rc-motion';\nimport useLayoutEffect from \"rc-util/es/hooks/useLayoutEffect\";\nimport { composeRef } from \"rc-util/es/ref\";\nimport * as React from 'react';\n\nvar calcThumbStyle = function calcThumbStyle(targetElement, vertical) {\n  if (!targetElement) return null;\n  var style = {\n    left: targetElement.offsetLeft,\n    right: targetElement.parentElement.clientWidth - targetElement.clientWidth - targetElement.offsetLeft,\n    width: targetElement.clientWidth,\n    top: targetElement.offsetTop,\n    bottom: targetElement.parentElement.clientHeight - targetElement.clientHeight - targetElement.offsetTop,\n    height: targetElement.clientHeight\n  };\n\n  if (vertical) {\n    // Adjusts positioning and size for vertical layout by setting horizontal properties to 0 and using vertical properties from the style object.\n    return {\n      left: 0,\n      right: 0,\n      width: 0,\n      top: style.top,\n      bottom: style.bottom,\n      height: style.height\n    };\n  }\n\n  return {\n    left: style.left,\n    right: style.right,\n    width: style.width,\n    top: 0,\n    bottom: 0,\n    height: 0\n  };\n};\n\nvar toPX = function toPX(value) {\n  return value !== undefined ? \"\".concat(value, \"px\") : undefined;\n};\n\nexport default function MotionThumb(props) {\n  var prefixCls = props.prefixCls,\n      containerRef = props.containerRef,\n      value = props.value,\n      getValueIndex = props.getValueIndex,\n      motionName = props.motionName,\n      onMotionStart = props.onMotionStart,\n      onMotionEnd = props.onMotionEnd,\n      direction = props.direction,\n      _props$vertical = props.vertical,\n      vertical = _props$vertical === void 0 ? false : _props$vertical;\n  var thumbRef = React.useRef(null);\n\n  var _React$useState = React.useState(value),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      prevValue = _React$useState2[0],\n      setPrevValue = _React$useState2[1]; // =========================== Effect ===========================\n\n\n  var findValueElement = function findValueElement(val) {\n    var _containerRef$current;\n\n    var index = getValueIndex(val);\n    var ele = (_containerRef$current = containerRef.current) === null || _containerRef$current === void 0 ? void 0 : _containerRef$current.querySelectorAll(\".\".concat(prefixCls, \"-item\"))[index];\n    return (ele === null || ele === void 0 ? void 0 : ele.offsetParent) && ele;\n  };\n\n  var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      prevStyle = _React$useState4[0],\n      setPrevStyle = _React$useState4[1];\n\n  var _React$useState5 = React.useState(null),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      nextStyle = _React$useState6[0],\n      setNextStyle = _React$useState6[1];\n\n  useLayoutEffect(function () {\n    if (prevValue !== value) {\n      var prev = findValueElement(prevValue);\n      var next = findValueElement(value);\n      var calcPrevStyle = calcThumbStyle(prev, vertical);\n      var calcNextStyle = calcThumbStyle(next, vertical);\n      setPrevValue(value);\n      setPrevStyle(calcPrevStyle);\n      setNextStyle(calcNextStyle);\n\n      if (prev && next) {\n        onMotionStart();\n      } else {\n        onMotionEnd();\n      }\n    }\n  }, [value]);\n  var thumbStart = React.useMemo(function () {\n    if (vertical) {\n      var _prevStyle$top;\n\n      return toPX((_prevStyle$top = prevStyle === null || prevStyle === void 0 ? void 0 : prevStyle.top) !== null && _prevStyle$top !== void 0 ? _prevStyle$top : 0);\n    }\n\n    if (direction === 'rtl') {\n      return toPX(-(prevStyle === null || prevStyle === void 0 ? void 0 : prevStyle.right));\n    }\n\n    return toPX(prevStyle === null || prevStyle === void 0 ? void 0 : prevStyle.left);\n  }, [vertical, direction, prevStyle]);\n  var thumbActive = React.useMemo(function () {\n    if (vertical) {\n      var _nextStyle$top;\n\n      return toPX((_nextStyle$top = nextStyle === null || nextStyle === void 0 ? void 0 : nextStyle.top) !== null && _nextStyle$top !== void 0 ? _nextStyle$top : 0);\n    }\n\n    if (direction === 'rtl') {\n      return toPX(-(nextStyle === null || nextStyle === void 0 ? void 0 : nextStyle.right));\n    }\n\n    return toPX(nextStyle === null || nextStyle === void 0 ? void 0 : nextStyle.left);\n  }, [vertical, direction, nextStyle]); // =========================== Motion ===========================\n\n  var onAppearStart = function onAppearStart() {\n    if (vertical) {\n      return {\n        transform: 'translateY(var(--thumb-start-top))',\n        height: 'var(--thumb-start-height)'\n      };\n    }\n\n    return {\n      transform: 'translateX(var(--thumb-start-left))',\n      width: 'var(--thumb-start-width)'\n    };\n  };\n\n  var onAppearActive = function onAppearActive() {\n    if (vertical) {\n      return {\n        transform: 'translateY(var(--thumb-active-top))',\n        height: 'var(--thumb-active-height)'\n      };\n    }\n\n    return {\n      transform: 'translateX(var(--thumb-active-left))',\n      width: 'var(--thumb-active-width)'\n    };\n  };\n\n  var onVisibleChanged = function onVisibleChanged() {\n    setPrevStyle(null);\n    setNextStyle(null);\n    onMotionEnd();\n  }; // =========================== Render ===========================\n  // No need motion when nothing exist in queue\n\n\n  if (!prevStyle || !nextStyle) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(CSSMotion, {\n    visible: true,\n    motionName: motionName,\n    motionAppear: true,\n    onAppearStart: onAppearStart,\n    onAppearActive: onAppearActive,\n    onVisibleChanged: onVisibleChanged\n  }, function (_ref, ref) {\n    var motionClassName = _ref.className,\n        motionStyle = _ref.style;\n\n    var mergedStyle = _objectSpread(_objectSpread({}, motionStyle), {}, {\n      '--thumb-start-left': thumbStart,\n      '--thumb-start-width': toPX(prevStyle === null || prevStyle === void 0 ? void 0 : prevStyle.width),\n      '--thumb-active-left': thumbActive,\n      '--thumb-active-width': toPX(nextStyle === null || nextStyle === void 0 ? void 0 : nextStyle.width),\n      '--thumb-start-top': thumbStart,\n      '--thumb-start-height': toPX(prevStyle === null || prevStyle === void 0 ? void 0 : prevStyle.height),\n      '--thumb-active-top': thumbActive,\n      '--thumb-active-height': toPX(nextStyle === null || nextStyle === void 0 ? void 0 : nextStyle.height)\n    }); // It's little ugly which should be refactor when @umi/test update to latest jsdom\n\n\n    var motionProps = {\n      ref: composeRef(thumbRef, ref),\n      style: mergedStyle,\n      className: classNames(\"\".concat(prefixCls, \"-thumb\"), motionClassName)\n    };\n\n    if (process.env.NODE_ENV === 'test') {\n      motionProps['data-test-style'] = JSON.stringify(mergedStyle);\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", motionProps);\n  });\n}","map":{"version":3,"sources":["/Users/malith_bandara/Desktop/AdminDashboard/node_modules/rc-segmented/es/MotionThumb.js"],"names":["_objectSpread","_slicedToArray","classNames","CSSMotion","useLayoutEffect","composeRef","React","calcThumbStyle","targetElement","vertical","style","left","offsetLeft","right","parentElement","clientWidth","width","top","offsetTop","bottom","clientHeight","height","toPX","value","undefined","concat","MotionThumb","props","prefixCls","containerRef","getValueIndex","motionName","onMotionStart","onMotionEnd","direction","_props$vertical","thumbRef","useRef","_React$useState","useState","_React$useState2","prevValue","setPrevValue","findValueElement","val","_containerRef$current","index","ele","current","querySelectorAll","offsetParent","_React$useState3","_React$useState4","prevStyle","setPrevStyle","_React$useState5","_React$useState6","nextStyle","setNextStyle","prev","next","calcPrevStyle","calcNextStyle","thumbStart","useMemo","_prevStyle$top","thumbActive","_nextStyle$top","onAppearStart","transform","onAppearActive","onVisibleChanged","createElement","visible","motionAppear","_ref","ref","motionClassName","className","motionStyle","mergedStyle","motionProps","process","env","NODE_ENV","JSON","stringify"],"mappings":"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","sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport classNames from 'classnames';\nimport CSSMotion from 'rc-motion';\nimport useLayoutEffect from \"rc-util/es/hooks/useLayoutEffect\";\nimport { composeRef } from \"rc-util/es/ref\";\nimport * as React from 'react';\nvar calcThumbStyle = function calcThumbStyle(targetElement, vertical) {\n  if (!targetElement) return null;\n  var style = {\n    left: targetElement.offsetLeft,\n    right: targetElement.parentElement.clientWidth - targetElement.clientWidth - targetElement.offsetLeft,\n    width: targetElement.clientWidth,\n    top: targetElement.offsetTop,\n    bottom: targetElement.parentElement.clientHeight - targetElement.clientHeight - targetElement.offsetTop,\n    height: targetElement.clientHeight\n  };\n  if (vertical) {\n    // Adjusts positioning and size for vertical layout by setting horizontal properties to 0 and using vertical properties from the style object.\n    return {\n      left: 0,\n      right: 0,\n      width: 0,\n      top: style.top,\n      bottom: style.bottom,\n      height: style.height\n    };\n  }\n  return {\n    left: style.left,\n    right: style.right,\n    width: style.width,\n    top: 0,\n    bottom: 0,\n    height: 0\n  };\n};\nvar toPX = function toPX(value) {\n  return value !== undefined ? \"\".concat(value, \"px\") : undefined;\n};\nexport default function MotionThumb(props) {\n  var prefixCls = props.prefixCls,\n    containerRef = props.containerRef,\n    value = props.value,\n    getValueIndex = props.getValueIndex,\n    motionName = props.motionName,\n    onMotionStart = props.onMotionStart,\n    onMotionEnd = props.onMotionEnd,\n    direction = props.direction,\n    _props$vertical = props.vertical,\n    vertical = _props$vertical === void 0 ? false : _props$vertical;\n  var thumbRef = React.useRef(null);\n  var _React$useState = React.useState(value),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    prevValue = _React$useState2[0],\n    setPrevValue = _React$useState2[1];\n\n  // =========================== Effect ===========================\n  var findValueElement = function findValueElement(val) {\n    var _containerRef$current;\n    var index = getValueIndex(val);\n    var ele = (_containerRef$current = containerRef.current) === null || _containerRef$current === void 0 ? void 0 : _containerRef$current.querySelectorAll(\".\".concat(prefixCls, \"-item\"))[index];\n    return (ele === null || ele === void 0 ? void 0 : ele.offsetParent) && ele;\n  };\n  var _React$useState3 = React.useState(null),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    prevStyle = _React$useState4[0],\n    setPrevStyle = _React$useState4[1];\n  var _React$useState5 = React.useState(null),\n    _React$useState6 = _slicedToArray(_React$useState5, 2),\n    nextStyle = _React$useState6[0],\n    setNextStyle = _React$useState6[1];\n  useLayoutEffect(function () {\n    if (prevValue !== value) {\n      var prev = findValueElement(prevValue);\n      var next = findValueElement(value);\n      var calcPrevStyle = calcThumbStyle(prev, vertical);\n      var calcNextStyle = calcThumbStyle(next, vertical);\n      setPrevValue(value);\n      setPrevStyle(calcPrevStyle);\n      setNextStyle(calcNextStyle);\n      if (prev && next) {\n        onMotionStart();\n      } else {\n        onMotionEnd();\n      }\n    }\n  }, [value]);\n  var thumbStart = React.useMemo(function () {\n    if (vertical) {\n      var _prevStyle$top;\n      return toPX((_prevStyle$top = prevStyle === null || prevStyle === void 0 ? void 0 : prevStyle.top) !== null && _prevStyle$top !== void 0 ? _prevStyle$top : 0);\n    }\n    if (direction === 'rtl') {\n      return toPX(-(prevStyle === null || prevStyle === void 0 ? void 0 : prevStyle.right));\n    }\n    return toPX(prevStyle === null || prevStyle === void 0 ? void 0 : prevStyle.left);\n  }, [vertical, direction, prevStyle]);\n  var thumbActive = React.useMemo(function () {\n    if (vertical) {\n      var _nextStyle$top;\n      return toPX((_nextStyle$top = nextStyle === null || nextStyle === void 0 ? void 0 : nextStyle.top) !== null && _nextStyle$top !== void 0 ? _nextStyle$top : 0);\n    }\n    if (direction === 'rtl') {\n      return toPX(-(nextStyle === null || nextStyle === void 0 ? void 0 : nextStyle.right));\n    }\n    return toPX(nextStyle === null || nextStyle === void 0 ? void 0 : nextStyle.left);\n  }, [vertical, direction, nextStyle]);\n\n  // =========================== Motion ===========================\n  var onAppearStart = function onAppearStart() {\n    if (vertical) {\n      return {\n        transform: 'translateY(var(--thumb-start-top))',\n        height: 'var(--thumb-start-height)'\n      };\n    }\n    return {\n      transform: 'translateX(var(--thumb-start-left))',\n      width: 'var(--thumb-start-width)'\n    };\n  };\n  var onAppearActive = function onAppearActive() {\n    if (vertical) {\n      return {\n        transform: 'translateY(var(--thumb-active-top))',\n        height: 'var(--thumb-active-height)'\n      };\n    }\n    return {\n      transform: 'translateX(var(--thumb-active-left))',\n      width: 'var(--thumb-active-width)'\n    };\n  };\n  var onVisibleChanged = function onVisibleChanged() {\n    setPrevStyle(null);\n    setNextStyle(null);\n    onMotionEnd();\n  };\n\n  // =========================== Render ===========================\n  // No need motion when nothing exist in queue\n  if (!prevStyle || !nextStyle) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(CSSMotion, {\n    visible: true,\n    motionName: motionName,\n    motionAppear: true,\n    onAppearStart: onAppearStart,\n    onAppearActive: onAppearActive,\n    onVisibleChanged: onVisibleChanged\n  }, function (_ref, ref) {\n    var motionClassName = _ref.className,\n      motionStyle = _ref.style;\n    var mergedStyle = _objectSpread(_objectSpread({}, motionStyle), {}, {\n      '--thumb-start-left': thumbStart,\n      '--thumb-start-width': toPX(prevStyle === null || prevStyle === void 0 ? void 0 : prevStyle.width),\n      '--thumb-active-left': thumbActive,\n      '--thumb-active-width': toPX(nextStyle === null || nextStyle === void 0 ? void 0 : nextStyle.width),\n      '--thumb-start-top': thumbStart,\n      '--thumb-start-height': toPX(prevStyle === null || prevStyle === void 0 ? void 0 : prevStyle.height),\n      '--thumb-active-top': thumbActive,\n      '--thumb-active-height': toPX(nextStyle === null || nextStyle === void 0 ? void 0 : nextStyle.height)\n    });\n\n    // It's little ugly which should be refactor when @umi/test update to latest jsdom\n    var motionProps = {\n      ref: composeRef(thumbRef, ref),\n      style: mergedStyle,\n      className: classNames(\"\".concat(prefixCls, \"-thumb\"), motionClassName)\n    };\n    if (process.env.NODE_ENV === 'test') {\n      motionProps['data-test-style'] = JSON.stringify(mergedStyle);\n    }\n    return /*#__PURE__*/React.createElement(\"div\", motionProps);\n  });\n}"]},"metadata":{},"sourceType":"module"}