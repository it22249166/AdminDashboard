{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"getContainer\", \"motion\", \"prefixCls\", \"maxCount\", \"className\", \"style\", \"onAllRemoved\", \"stack\", \"renderNotifications\"];\nimport * as React from 'react';\nimport Notifications from \"../Notifications\";\nimport { useEvent } from 'rc-util';\n\nvar defaultGetContainer = function defaultGetContainer() {\n  return document.body;\n};\n\nvar uniqueKey = 0;\n\nfunction mergeConfig() {\n  var clone = {};\n\n  for (var _len = arguments.length, objList = new Array(_len), _key = 0; _key < _len; _key++) {\n    objList[_key] = arguments[_key];\n  }\n\n  objList.forEach(function (obj) {\n    if (obj) {\n      Object.keys(obj).forEach(function (key) {\n        var val = obj[key];\n\n        if (val !== undefined) {\n          clone[key] = val;\n        }\n      });\n    }\n  });\n  return clone;\n}\n\nexport default function useNotification() {\n  var rootConfig = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _rootConfig$getContai = rootConfig.getContainer,\n      getContainer = _rootConfig$getContai === void 0 ? defaultGetContainer : _rootConfig$getContai,\n      motion = rootConfig.motion,\n      prefixCls = rootConfig.prefixCls,\n      maxCount = rootConfig.maxCount,\n      className = rootConfig.className,\n      style = rootConfig.style,\n      onAllRemoved = rootConfig.onAllRemoved,\n      stack = rootConfig.stack,\n      renderNotifications = rootConfig.renderNotifications,\n      shareConfig = _objectWithoutProperties(rootConfig, _excluded);\n\n  var _React$useState = React.useState(),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      container = _React$useState2[0],\n      setContainer = _React$useState2[1];\n\n  var notificationsRef = React.useRef();\n  var contextHolder = /*#__PURE__*/React.createElement(Notifications, {\n    container: container,\n    ref: notificationsRef,\n    prefixCls: prefixCls,\n    motion: motion,\n    maxCount: maxCount,\n    className: className,\n    style: style,\n    onAllRemoved: onAllRemoved,\n    stack: stack,\n    renderNotifications: renderNotifications\n  });\n\n  var _React$useState3 = React.useState([]),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      taskQueue = _React$useState4[0],\n      setTaskQueue = _React$useState4[1];\n\n  var open = useEvent(function (config) {\n    var mergedConfig = mergeConfig(shareConfig, config);\n\n    if (mergedConfig.key === null || mergedConfig.key === undefined) {\n      mergedConfig.key = \"rc-notification-\".concat(uniqueKey);\n      uniqueKey += 1;\n    }\n\n    setTaskQueue(function (queue) {\n      return [].concat(_toConsumableArray(queue), [{\n        type: 'open',\n        config: mergedConfig\n      }]);\n    });\n  }); // ========================= Refs =========================\n\n  var api = React.useMemo(function () {\n    return {\n      open: open,\n      close: function close(key) {\n        setTaskQueue(function (queue) {\n          return [].concat(_toConsumableArray(queue), [{\n            type: 'close',\n            key: key\n          }]);\n        });\n      },\n      destroy: function destroy() {\n        setTaskQueue(function (queue) {\n          return [].concat(_toConsumableArray(queue), [{\n            type: 'destroy'\n          }]);\n        });\n      }\n    };\n  }, []); // ======================= Container ======================\n  // React 18 should all in effect that we will check container in each render\n  // Which means getContainer should be stable.\n\n  React.useEffect(function () {\n    setContainer(getContainer());\n  }); // ======================== Effect ========================\n\n  React.useEffect(function () {\n    // Flush task when node ready\n    if (notificationsRef.current && taskQueue.length) {\n      taskQueue.forEach(function (task) {\n        switch (task.type) {\n          case 'open':\n            notificationsRef.current.open(task.config);\n            break;\n\n          case 'close':\n            notificationsRef.current.close(task.key);\n            break;\n\n          case 'destroy':\n            notificationsRef.current.destroy();\n            break;\n        }\n      }); // https://github.com/ant-design/ant-design/issues/52590\n      // React `startTransition` will run once `useEffect` but many times `setState`,\n      // So `setTaskQueue` with filtered array will cause infinite loop.\n      // We cache the first match queue instead.\n\n      var oriTaskQueue;\n      var tgtTaskQueue; // React 17 will mix order of effect & setState in async\n      // - open: setState[0]\n      // - effect[0]\n      // - open: setState[1]\n      // - effect setState([]) * here will clean up [0, 1] in React 17\n\n      setTaskQueue(function (oriQueue) {\n        if (oriTaskQueue !== oriQueue || !tgtTaskQueue) {\n          oriTaskQueue = oriQueue;\n          tgtTaskQueue = oriQueue.filter(function (task) {\n            return !taskQueue.includes(task);\n          });\n        }\n\n        return tgtTaskQueue;\n      });\n    }\n  }, [taskQueue]); // ======================== Return ========================\n\n  return [api, contextHolder];\n}","map":{"version":3,"sources":["/Users/malith_bandara/Desktop/AdminDashboard/node_modules/rc-notification/es/hooks/useNotification.js"],"names":["_toConsumableArray","_slicedToArray","_objectWithoutProperties","_excluded","React","Notifications","useEvent","defaultGetContainer","document","body","uniqueKey","mergeConfig","clone","_len","arguments","length","objList","Array","_key","forEach","obj","Object","keys","key","val","undefined","useNotification","rootConfig","_rootConfig$getContai","getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications","shareConfig","_React$useState","useState","_React$useState2","container","setContainer","notificationsRef","useRef","contextHolder","createElement","ref","_React$useState3","_React$useState4","taskQueue","setTaskQueue","open","config","mergedConfig","concat","queue","type","api","useMemo","close","destroy","useEffect","current","task","oriTaskQueue","tgtTaskQueue","oriQueue","filter","includes"],"mappings":"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","sourcesContent":["import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"getContainer\", \"motion\", \"prefixCls\", \"maxCount\", \"className\", \"style\", \"onAllRemoved\", \"stack\", \"renderNotifications\"];\nimport * as React from 'react';\nimport Notifications from \"../Notifications\";\nimport { useEvent } from 'rc-util';\nvar defaultGetContainer = function defaultGetContainer() {\n  return document.body;\n};\nvar uniqueKey = 0;\nfunction mergeConfig() {\n  var clone = {};\n  for (var _len = arguments.length, objList = new Array(_len), _key = 0; _key < _len; _key++) {\n    objList[_key] = arguments[_key];\n  }\n  objList.forEach(function (obj) {\n    if (obj) {\n      Object.keys(obj).forEach(function (key) {\n        var val = obj[key];\n        if (val !== undefined) {\n          clone[key] = val;\n        }\n      });\n    }\n  });\n  return clone;\n}\nexport default function useNotification() {\n  var rootConfig = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _rootConfig$getContai = rootConfig.getContainer,\n    getContainer = _rootConfig$getContai === void 0 ? defaultGetContainer : _rootConfig$getContai,\n    motion = rootConfig.motion,\n    prefixCls = rootConfig.prefixCls,\n    maxCount = rootConfig.maxCount,\n    className = rootConfig.className,\n    style = rootConfig.style,\n    onAllRemoved = rootConfig.onAllRemoved,\n    stack = rootConfig.stack,\n    renderNotifications = rootConfig.renderNotifications,\n    shareConfig = _objectWithoutProperties(rootConfig, _excluded);\n  var _React$useState = React.useState(),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    container = _React$useState2[0],\n    setContainer = _React$useState2[1];\n  var notificationsRef = React.useRef();\n  var contextHolder = /*#__PURE__*/React.createElement(Notifications, {\n    container: container,\n    ref: notificationsRef,\n    prefixCls: prefixCls,\n    motion: motion,\n    maxCount: maxCount,\n    className: className,\n    style: style,\n    onAllRemoved: onAllRemoved,\n    stack: stack,\n    renderNotifications: renderNotifications\n  });\n  var _React$useState3 = React.useState([]),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    taskQueue = _React$useState4[0],\n    setTaskQueue = _React$useState4[1];\n  var open = useEvent(function (config) {\n    var mergedConfig = mergeConfig(shareConfig, config);\n    if (mergedConfig.key === null || mergedConfig.key === undefined) {\n      mergedConfig.key = \"rc-notification-\".concat(uniqueKey);\n      uniqueKey += 1;\n    }\n    setTaskQueue(function (queue) {\n      return [].concat(_toConsumableArray(queue), [{\n        type: 'open',\n        config: mergedConfig\n      }]);\n    });\n  });\n\n  // ========================= Refs =========================\n  var api = React.useMemo(function () {\n    return {\n      open: open,\n      close: function close(key) {\n        setTaskQueue(function (queue) {\n          return [].concat(_toConsumableArray(queue), [{\n            type: 'close',\n            key: key\n          }]);\n        });\n      },\n      destroy: function destroy() {\n        setTaskQueue(function (queue) {\n          return [].concat(_toConsumableArray(queue), [{\n            type: 'destroy'\n          }]);\n        });\n      }\n    };\n  }, []);\n\n  // ======================= Container ======================\n  // React 18 should all in effect that we will check container in each render\n  // Which means getContainer should be stable.\n  React.useEffect(function () {\n    setContainer(getContainer());\n  });\n\n  // ======================== Effect ========================\n  React.useEffect(function () {\n    // Flush task when node ready\n    if (notificationsRef.current && taskQueue.length) {\n      taskQueue.forEach(function (task) {\n        switch (task.type) {\n          case 'open':\n            notificationsRef.current.open(task.config);\n            break;\n          case 'close':\n            notificationsRef.current.close(task.key);\n            break;\n          case 'destroy':\n            notificationsRef.current.destroy();\n            break;\n        }\n      });\n\n      // https://github.com/ant-design/ant-design/issues/52590\n      // React `startTransition` will run once `useEffect` but many times `setState`,\n      // So `setTaskQueue` with filtered array will cause infinite loop.\n      // We cache the first match queue instead.\n      var oriTaskQueue;\n      var tgtTaskQueue;\n\n      // React 17 will mix order of effect & setState in async\n      // - open: setState[0]\n      // - effect[0]\n      // - open: setState[1]\n      // - effect setState([]) * here will clean up [0, 1] in React 17\n      setTaskQueue(function (oriQueue) {\n        if (oriTaskQueue !== oriQueue || !tgtTaskQueue) {\n          oriTaskQueue = oriQueue;\n          tgtTaskQueue = oriQueue.filter(function (task) {\n            return !taskQueue.includes(task);\n          });\n        }\n        return tgtTaskQueue;\n      });\n    }\n  }, [taskQueue]);\n\n  // ======================== Return ========================\n  return [api, contextHolder];\n}"]},"metadata":{},"sourceType":"module"}