{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"autoComplete\", \"onChange\", \"onFocus\", \"onBlur\", \"onPressEnter\", \"onKeyDown\", \"onKeyUp\", \"prefixCls\", \"disabled\", \"htmlSize\", \"className\", \"maxLength\", \"suffix\", \"showCount\", \"count\", \"type\", \"classes\", \"classNames\", \"styles\", \"onCompositionStart\", \"onCompositionEnd\"];\nimport clsx from 'classnames';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport omit from \"rc-util/es/omit\";\nimport React, { forwardRef, useEffect, useImperativeHandle, useRef, useState } from 'react';\nimport BaseInput from \"./BaseInput\";\nimport useCount from \"./hooks/useCount\";\nimport { resolveOnChange, triggerFocus } from \"./utils/commonUtils\";\nvar Input = /*#__PURE__*/forwardRef(function (props, ref) {\n  var autoComplete = props.autoComplete,\n      onChange = props.onChange,\n      onFocus = props.onFocus,\n      onBlur = props.onBlur,\n      onPressEnter = props.onPressEnter,\n      onKeyDown = props.onKeyDown,\n      onKeyUp = props.onKeyUp,\n      _props$prefixCls = props.prefixCls,\n      prefixCls = _props$prefixCls === void 0 ? 'rc-input' : _props$prefixCls,\n      disabled = props.disabled,\n      htmlSize = props.htmlSize,\n      className = props.className,\n      maxLength = props.maxLength,\n      suffix = props.suffix,\n      showCount = props.showCount,\n      count = props.count,\n      _props$type = props.type,\n      type = _props$type === void 0 ? 'text' : _props$type,\n      classes = props.classes,\n      classNames = props.classNames,\n      styles = props.styles,\n      _onCompositionStart = props.onCompositionStart,\n      onCompositionEnd = props.onCompositionEnd,\n      rest = _objectWithoutProperties(props, _excluded);\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      focused = _useState2[0],\n      setFocused = _useState2[1];\n\n  var compositionRef = useRef(false);\n  var keyLockRef = useRef(false);\n  var inputRef = useRef(null);\n  var holderRef = useRef(null);\n\n  var focus = function focus(option) {\n    if (inputRef.current) {\n      triggerFocus(inputRef.current, option);\n    }\n  }; // ====================== Value =======================\n\n\n  var _useMergedState = useMergedState(props.defaultValue, {\n    value: props.value\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      value = _useMergedState2[0],\n      setValue = _useMergedState2[1];\n\n  var formatValue = value === undefined || value === null ? '' : String(value); // =================== Select Range ===================\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      selection = _useState4[0],\n      setSelection = _useState4[1]; // ====================== Count =======================\n\n\n  var countConfig = useCount(count, showCount);\n  var mergedMax = countConfig.max || maxLength;\n  var valueLength = countConfig.strategy(formatValue);\n  var isOutOfRange = !!mergedMax && valueLength > mergedMax; // ======================= Ref ========================\n\n  useImperativeHandle(ref, function () {\n    var _holderRef$current;\n\n    return {\n      focus: focus,\n      blur: function blur() {\n        var _inputRef$current;\n\n        (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 || _inputRef$current.blur();\n      },\n      setSelectionRange: function setSelectionRange(start, end, direction) {\n        var _inputRef$current2;\n\n        (_inputRef$current2 = inputRef.current) === null || _inputRef$current2 === void 0 || _inputRef$current2.setSelectionRange(start, end, direction);\n      },\n      select: function select() {\n        var _inputRef$current3;\n\n        (_inputRef$current3 = inputRef.current) === null || _inputRef$current3 === void 0 || _inputRef$current3.select();\n      },\n      input: inputRef.current,\n      nativeElement: ((_holderRef$current = holderRef.current) === null || _holderRef$current === void 0 ? void 0 : _holderRef$current.nativeElement) || inputRef.current\n    };\n  });\n  useEffect(function () {\n    if (keyLockRef.current) {\n      keyLockRef.current = false;\n    }\n\n    setFocused(function (prev) {\n      return prev && disabled ? false : prev;\n    });\n  }, [disabled]);\n\n  var triggerChange = function triggerChange(e, currentValue, info) {\n    var cutValue = currentValue;\n\n    if (!compositionRef.current && countConfig.exceedFormatter && countConfig.max && countConfig.strategy(currentValue) > countConfig.max) {\n      cutValue = countConfig.exceedFormatter(currentValue, {\n        max: countConfig.max\n      });\n\n      if (currentValue !== cutValue) {\n        var _inputRef$current4, _inputRef$current5;\n\n        setSelection([((_inputRef$current4 = inputRef.current) === null || _inputRef$current4 === void 0 ? void 0 : _inputRef$current4.selectionStart) || 0, ((_inputRef$current5 = inputRef.current) === null || _inputRef$current5 === void 0 ? void 0 : _inputRef$current5.selectionEnd) || 0]);\n      }\n    } else if (info.source === 'compositionEnd') {\n      // Avoid triggering twice\n      // https://github.com/ant-design/ant-design/issues/46587\n      return;\n    }\n\n    setValue(cutValue);\n\n    if (inputRef.current) {\n      resolveOnChange(inputRef.current, e, onChange, cutValue);\n    }\n  };\n\n  useEffect(function () {\n    if (selection) {\n      var _inputRef$current6;\n\n      (_inputRef$current6 = inputRef.current) === null || _inputRef$current6 === void 0 || _inputRef$current6.setSelectionRange.apply(_inputRef$current6, _toConsumableArray(selection));\n    }\n  }, [selection]);\n\n  var onInternalChange = function onInternalChange(e) {\n    triggerChange(e, e.target.value, {\n      source: 'change'\n    });\n  };\n\n  var onInternalCompositionEnd = function onInternalCompositionEnd(e) {\n    compositionRef.current = false;\n    triggerChange(e, e.currentTarget.value, {\n      source: 'compositionEnd'\n    });\n    onCompositionEnd === null || onCompositionEnd === void 0 || onCompositionEnd(e);\n  };\n\n  var handleKeyDown = function handleKeyDown(e) {\n    if (onPressEnter && e.key === 'Enter' && !keyLockRef.current) {\n      keyLockRef.current = true;\n      onPressEnter(e);\n    }\n\n    onKeyDown === null || onKeyDown === void 0 || onKeyDown(e);\n  };\n\n  var handleKeyUp = function handleKeyUp(e) {\n    if (e.key === 'Enter') {\n      keyLockRef.current = false;\n    }\n\n    onKeyUp === null || onKeyUp === void 0 || onKeyUp(e);\n  };\n\n  var handleFocus = function handleFocus(e) {\n    setFocused(true);\n    onFocus === null || onFocus === void 0 || onFocus(e);\n  };\n\n  var handleBlur = function handleBlur(e) {\n    if (keyLockRef.current) {\n      keyLockRef.current = false;\n    }\n\n    setFocused(false);\n    onBlur === null || onBlur === void 0 || onBlur(e);\n  };\n\n  var handleReset = function handleReset(e) {\n    setValue('');\n    focus();\n\n    if (inputRef.current) {\n      resolveOnChange(inputRef.current, e, onChange);\n    }\n  }; // ====================== Input =======================\n\n\n  var outOfRangeCls = isOutOfRange && \"\".concat(prefixCls, \"-out-of-range\");\n\n  var getInputElement = function getInputElement() {\n    // Fix https://fb.me/react-unknown-prop\n    var otherProps = omit(props, ['prefixCls', 'onPressEnter', 'addonBefore', 'addonAfter', 'prefix', 'suffix', 'allowClear', // Input elements must be either controlled or uncontrolled,\n    // specify either the value prop, or the defaultValue prop, but not both.\n    'defaultValue', 'showCount', 'count', 'classes', 'htmlSize', 'styles', 'classNames', 'onClear']);\n    return /*#__PURE__*/React.createElement(\"input\", _extends({\n      autoComplete: autoComplete\n    }, otherProps, {\n      onChange: onInternalChange,\n      onFocus: handleFocus,\n      onBlur: handleBlur,\n      onKeyDown: handleKeyDown,\n      onKeyUp: handleKeyUp,\n      className: clsx(prefixCls, _defineProperty({}, \"\".concat(prefixCls, \"-disabled\"), disabled), classNames === null || classNames === void 0 ? void 0 : classNames.input),\n      style: styles === null || styles === void 0 ? void 0 : styles.input,\n      ref: inputRef,\n      size: htmlSize,\n      type: type,\n      onCompositionStart: function onCompositionStart(e) {\n        compositionRef.current = true;\n        _onCompositionStart === null || _onCompositionStart === void 0 || _onCompositionStart(e);\n      },\n      onCompositionEnd: onInternalCompositionEnd\n    }));\n  };\n\n  var getSuffix = function getSuffix() {\n    // Max length value\n    var hasMaxLength = Number(mergedMax) > 0;\n\n    if (suffix || countConfig.show) {\n      var dataCount = countConfig.showFormatter ? countConfig.showFormatter({\n        value: formatValue,\n        count: valueLength,\n        maxLength: mergedMax\n      }) : \"\".concat(valueLength).concat(hasMaxLength ? \" / \".concat(mergedMax) : '');\n      return /*#__PURE__*/React.createElement(React.Fragment, null, countConfig.show && /*#__PURE__*/React.createElement(\"span\", {\n        className: clsx(\"\".concat(prefixCls, \"-show-count-suffix\"), _defineProperty({}, \"\".concat(prefixCls, \"-show-count-has-suffix\"), !!suffix), classNames === null || classNames === void 0 ? void 0 : classNames.count),\n        style: _objectSpread({}, styles === null || styles === void 0 ? void 0 : styles.count)\n      }, dataCount), suffix);\n    }\n\n    return null;\n  }; // ====================== Render ======================\n\n\n  return /*#__PURE__*/React.createElement(BaseInput, _extends({}, rest, {\n    prefixCls: prefixCls,\n    className: clsx(className, outOfRangeCls),\n    handleReset: handleReset,\n    value: formatValue,\n    focused: focused,\n    triggerFocus: focus,\n    suffix: getSuffix(),\n    disabled: disabled,\n    classes: classes,\n    classNames: classNames,\n    styles: styles,\n    ref: holderRef\n  }), getInputElement());\n});\nexport default Input;","map":{"version":3,"sources":["/Users/malith_bandara/Desktop/AdminDashboard/node_modules/rc-input/es/Input.js"],"names":["_objectSpread","_extends","_defineProperty","_toConsumableArray","_slicedToArray","_objectWithoutProperties","_excluded","clsx","useMergedState","omit","React","forwardRef","useEffect","useImperativeHandle","useRef","useState","BaseInput","useCount","resolveOnChange","triggerFocus","Input","props","ref","autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","_props$prefixCls","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","_props$type","type","classes","classNames","styles","_onCompositionStart","onCompositionStart","onCompositionEnd","rest","_useState","_useState2","focused","setFocused","compositionRef","keyLockRef","inputRef","holderRef","focus","option","current","_useMergedState","defaultValue","value","_useMergedState2","setValue","formatValue","undefined","String","_useState3","_useState4","selection","setSelection","countConfig","mergedMax","max","valueLength","strategy","isOutOfRange","_holderRef$current","blur","_inputRef$current","setSelectionRange","start","end","direction","_inputRef$current2","select","_inputRef$current3","input","nativeElement","prev","triggerChange","e","currentValue","info","cutValue","exceedFormatter","_inputRef$current4","_inputRef$current5","selectionStart","selectionEnd","source","_inputRef$current6","apply","onInternalChange","target","onInternalCompositionEnd","currentTarget","handleKeyDown","key","handleKeyUp","handleFocus","handleBlur","handleReset","outOfRangeCls","concat","getInputElement","otherProps","createElement","style","size","getSuffix","hasMaxLength","Number","show","dataCount","showFormatter","Fragment"],"mappings":"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","sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"autoComplete\", \"onChange\", \"onFocus\", \"onBlur\", \"onPressEnter\", \"onKeyDown\", \"onKeyUp\", \"prefixCls\", \"disabled\", \"htmlSize\", \"className\", \"maxLength\", \"suffix\", \"showCount\", \"count\", \"type\", \"classes\", \"classNames\", \"styles\", \"onCompositionStart\", \"onCompositionEnd\"];\nimport clsx from 'classnames';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport omit from \"rc-util/es/omit\";\nimport React, { forwardRef, useEffect, useImperativeHandle, useRef, useState } from 'react';\nimport BaseInput from \"./BaseInput\";\nimport useCount from \"./hooks/useCount\";\nimport { resolveOnChange, triggerFocus } from \"./utils/commonUtils\";\nvar Input = /*#__PURE__*/forwardRef(function (props, ref) {\n  var autoComplete = props.autoComplete,\n    onChange = props.onChange,\n    onFocus = props.onFocus,\n    onBlur = props.onBlur,\n    onPressEnter = props.onPressEnter,\n    onKeyDown = props.onKeyDown,\n    onKeyUp = props.onKeyUp,\n    _props$prefixCls = props.prefixCls,\n    prefixCls = _props$prefixCls === void 0 ? 'rc-input' : _props$prefixCls,\n    disabled = props.disabled,\n    htmlSize = props.htmlSize,\n    className = props.className,\n    maxLength = props.maxLength,\n    suffix = props.suffix,\n    showCount = props.showCount,\n    count = props.count,\n    _props$type = props.type,\n    type = _props$type === void 0 ? 'text' : _props$type,\n    classes = props.classes,\n    classNames = props.classNames,\n    styles = props.styles,\n    _onCompositionStart = props.onCompositionStart,\n    onCompositionEnd = props.onCompositionEnd,\n    rest = _objectWithoutProperties(props, _excluded);\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    focused = _useState2[0],\n    setFocused = _useState2[1];\n  var compositionRef = useRef(false);\n  var keyLockRef = useRef(false);\n  var inputRef = useRef(null);\n  var holderRef = useRef(null);\n  var focus = function focus(option) {\n    if (inputRef.current) {\n      triggerFocus(inputRef.current, option);\n    }\n  };\n\n  // ====================== Value =======================\n  var _useMergedState = useMergedState(props.defaultValue, {\n      value: props.value\n    }),\n    _useMergedState2 = _slicedToArray(_useMergedState, 2),\n    value = _useMergedState2[0],\n    setValue = _useMergedState2[1];\n  var formatValue = value === undefined || value === null ? '' : String(value);\n\n  // =================== Select Range ===================\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    selection = _useState4[0],\n    setSelection = _useState4[1];\n\n  // ====================== Count =======================\n  var countConfig = useCount(count, showCount);\n  var mergedMax = countConfig.max || maxLength;\n  var valueLength = countConfig.strategy(formatValue);\n  var isOutOfRange = !!mergedMax && valueLength > mergedMax;\n\n  // ======================= Ref ========================\n  useImperativeHandle(ref, function () {\n    var _holderRef$current;\n    return {\n      focus: focus,\n      blur: function blur() {\n        var _inputRef$current;\n        (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 || _inputRef$current.blur();\n      },\n      setSelectionRange: function setSelectionRange(start, end, direction) {\n        var _inputRef$current2;\n        (_inputRef$current2 = inputRef.current) === null || _inputRef$current2 === void 0 || _inputRef$current2.setSelectionRange(start, end, direction);\n      },\n      select: function select() {\n        var _inputRef$current3;\n        (_inputRef$current3 = inputRef.current) === null || _inputRef$current3 === void 0 || _inputRef$current3.select();\n      },\n      input: inputRef.current,\n      nativeElement: ((_holderRef$current = holderRef.current) === null || _holderRef$current === void 0 ? void 0 : _holderRef$current.nativeElement) || inputRef.current\n    };\n  });\n  useEffect(function () {\n    if (keyLockRef.current) {\n      keyLockRef.current = false;\n    }\n    setFocused(function (prev) {\n      return prev && disabled ? false : prev;\n    });\n  }, [disabled]);\n  var triggerChange = function triggerChange(e, currentValue, info) {\n    var cutValue = currentValue;\n    if (!compositionRef.current && countConfig.exceedFormatter && countConfig.max && countConfig.strategy(currentValue) > countConfig.max) {\n      cutValue = countConfig.exceedFormatter(currentValue, {\n        max: countConfig.max\n      });\n      if (currentValue !== cutValue) {\n        var _inputRef$current4, _inputRef$current5;\n        setSelection([((_inputRef$current4 = inputRef.current) === null || _inputRef$current4 === void 0 ? void 0 : _inputRef$current4.selectionStart) || 0, ((_inputRef$current5 = inputRef.current) === null || _inputRef$current5 === void 0 ? void 0 : _inputRef$current5.selectionEnd) || 0]);\n      }\n    } else if (info.source === 'compositionEnd') {\n      // Avoid triggering twice\n      // https://github.com/ant-design/ant-design/issues/46587\n      return;\n    }\n    setValue(cutValue);\n    if (inputRef.current) {\n      resolveOnChange(inputRef.current, e, onChange, cutValue);\n    }\n  };\n  useEffect(function () {\n    if (selection) {\n      var _inputRef$current6;\n      (_inputRef$current6 = inputRef.current) === null || _inputRef$current6 === void 0 || _inputRef$current6.setSelectionRange.apply(_inputRef$current6, _toConsumableArray(selection));\n    }\n  }, [selection]);\n  var onInternalChange = function onInternalChange(e) {\n    triggerChange(e, e.target.value, {\n      source: 'change'\n    });\n  };\n  var onInternalCompositionEnd = function onInternalCompositionEnd(e) {\n    compositionRef.current = false;\n    triggerChange(e, e.currentTarget.value, {\n      source: 'compositionEnd'\n    });\n    onCompositionEnd === null || onCompositionEnd === void 0 || onCompositionEnd(e);\n  };\n  var handleKeyDown = function handleKeyDown(e) {\n    if (onPressEnter && e.key === 'Enter' && !keyLockRef.current) {\n      keyLockRef.current = true;\n      onPressEnter(e);\n    }\n    onKeyDown === null || onKeyDown === void 0 || onKeyDown(e);\n  };\n  var handleKeyUp = function handleKeyUp(e) {\n    if (e.key === 'Enter') {\n      keyLockRef.current = false;\n    }\n    onKeyUp === null || onKeyUp === void 0 || onKeyUp(e);\n  };\n  var handleFocus = function handleFocus(e) {\n    setFocused(true);\n    onFocus === null || onFocus === void 0 || onFocus(e);\n  };\n  var handleBlur = function handleBlur(e) {\n    if (keyLockRef.current) {\n      keyLockRef.current = false;\n    }\n    setFocused(false);\n    onBlur === null || onBlur === void 0 || onBlur(e);\n  };\n  var handleReset = function handleReset(e) {\n    setValue('');\n    focus();\n    if (inputRef.current) {\n      resolveOnChange(inputRef.current, e, onChange);\n    }\n  };\n\n  // ====================== Input =======================\n  var outOfRangeCls = isOutOfRange && \"\".concat(prefixCls, \"-out-of-range\");\n  var getInputElement = function getInputElement() {\n    // Fix https://fb.me/react-unknown-prop\n    var otherProps = omit(props, ['prefixCls', 'onPressEnter', 'addonBefore', 'addonAfter', 'prefix', 'suffix', 'allowClear',\n    // Input elements must be either controlled or uncontrolled,\n    // specify either the value prop, or the defaultValue prop, but not both.\n    'defaultValue', 'showCount', 'count', 'classes', 'htmlSize', 'styles', 'classNames', 'onClear']);\n    return /*#__PURE__*/React.createElement(\"input\", _extends({\n      autoComplete: autoComplete\n    }, otherProps, {\n      onChange: onInternalChange,\n      onFocus: handleFocus,\n      onBlur: handleBlur,\n      onKeyDown: handleKeyDown,\n      onKeyUp: handleKeyUp,\n      className: clsx(prefixCls, _defineProperty({}, \"\".concat(prefixCls, \"-disabled\"), disabled), classNames === null || classNames === void 0 ? void 0 : classNames.input),\n      style: styles === null || styles === void 0 ? void 0 : styles.input,\n      ref: inputRef,\n      size: htmlSize,\n      type: type,\n      onCompositionStart: function onCompositionStart(e) {\n        compositionRef.current = true;\n        _onCompositionStart === null || _onCompositionStart === void 0 || _onCompositionStart(e);\n      },\n      onCompositionEnd: onInternalCompositionEnd\n    }));\n  };\n  var getSuffix = function getSuffix() {\n    // Max length value\n    var hasMaxLength = Number(mergedMax) > 0;\n    if (suffix || countConfig.show) {\n      var dataCount = countConfig.showFormatter ? countConfig.showFormatter({\n        value: formatValue,\n        count: valueLength,\n        maxLength: mergedMax\n      }) : \"\".concat(valueLength).concat(hasMaxLength ? \" / \".concat(mergedMax) : '');\n      return /*#__PURE__*/React.createElement(React.Fragment, null, countConfig.show && /*#__PURE__*/React.createElement(\"span\", {\n        className: clsx(\"\".concat(prefixCls, \"-show-count-suffix\"), _defineProperty({}, \"\".concat(prefixCls, \"-show-count-has-suffix\"), !!suffix), classNames === null || classNames === void 0 ? void 0 : classNames.count),\n        style: _objectSpread({}, styles === null || styles === void 0 ? void 0 : styles.count)\n      }, dataCount), suffix);\n    }\n    return null;\n  };\n\n  // ====================== Render ======================\n  return /*#__PURE__*/React.createElement(BaseInput, _extends({}, rest, {\n    prefixCls: prefixCls,\n    className: clsx(className, outOfRangeCls),\n    handleReset: handleReset,\n    value: formatValue,\n    focused: focused,\n    triggerFocus: focus,\n    suffix: getSuffix(),\n    disabled: disabled,\n    classes: classes,\n    classNames: classNames,\n    styles: styles,\n    ref: holderRef\n  }), getInputElement());\n});\nexport default Input;"]},"metadata":{},"sourceType":"module"}