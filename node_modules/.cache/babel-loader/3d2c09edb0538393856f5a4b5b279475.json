{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"visible\", \"onVisibleChange\", \"getContainer\", \"current\", \"movable\", \"minScale\", \"maxScale\", \"countRender\", \"closeIcon\", \"onChange\", \"onTransform\", \"toolbarRender\", \"imageRender\"],\n    _excluded2 = [\"src\"];\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport * as React from 'react';\nimport { useState } from 'react';\nimport Preview from \"./Preview\";\nimport { PreviewGroupContext } from \"./context\";\nimport usePreviewItems from \"./hooks/usePreviewItems\";\n\nvar Group = function Group(_ref) {\n  var _mergedItems$current;\n\n  var _ref$previewPrefixCls = _ref.previewPrefixCls,\n      previewPrefixCls = _ref$previewPrefixCls === void 0 ? 'rc-image-preview' : _ref$previewPrefixCls,\n      children = _ref.children,\n      _ref$icons = _ref.icons,\n      icons = _ref$icons === void 0 ? {} : _ref$icons,\n      items = _ref.items,\n      preview = _ref.preview,\n      fallback = _ref.fallback;\n\n  var _ref2 = _typeof(preview) === 'object' ? preview : {},\n      previewVisible = _ref2.visible,\n      onVisibleChange = _ref2.onVisibleChange,\n      getContainer = _ref2.getContainer,\n      currentIndex = _ref2.current,\n      movable = _ref2.movable,\n      minScale = _ref2.minScale,\n      maxScale = _ref2.maxScale,\n      countRender = _ref2.countRender,\n      closeIcon = _ref2.closeIcon,\n      onChange = _ref2.onChange,\n      onTransform = _ref2.onTransform,\n      toolbarRender = _ref2.toolbarRender,\n      imageRender = _ref2.imageRender,\n      dialogProps = _objectWithoutProperties(_ref2, _excluded); // ========================== Items ===========================\n\n\n  var _usePreviewItems = usePreviewItems(items),\n      _usePreviewItems2 = _slicedToArray(_usePreviewItems, 3),\n      mergedItems = _usePreviewItems2[0],\n      register = _usePreviewItems2[1],\n      fromItems = _usePreviewItems2[2]; // ========================= Preview ==========================\n  // >>> Index\n\n\n  var _useMergedState = useMergedState(0, {\n    value: currentIndex\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      current = _useMergedState2[0],\n      setCurrent = _useMergedState2[1];\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      keepOpenIndex = _useState2[0],\n      setKeepOpenIndex = _useState2[1]; // >>> Image\n\n\n  var _ref3 = ((_mergedItems$current = mergedItems[current]) === null || _mergedItems$current === void 0 ? void 0 : _mergedItems$current.data) || {},\n      src = _ref3.src,\n      imgCommonProps = _objectWithoutProperties(_ref3, _excluded2); // >>> Visible\n\n\n  var _useMergedState3 = useMergedState(!!previewVisible, {\n    value: previewVisible,\n    onChange: function onChange(val, prevVal) {\n      onVisibleChange === null || onVisibleChange === void 0 || onVisibleChange(val, prevVal, current);\n    }\n  }),\n      _useMergedState4 = _slicedToArray(_useMergedState3, 2),\n      isShowPreview = _useMergedState4[0],\n      setShowPreview = _useMergedState4[1]; // >>> Position\n\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      mousePosition = _useState4[0],\n      setMousePosition = _useState4[1];\n\n  var onPreviewFromImage = React.useCallback(function (id, imageSrc, mouseX, mouseY) {\n    var index = fromItems ? mergedItems.findIndex(function (item) {\n      return item.data.src === imageSrc;\n    }) : mergedItems.findIndex(function (item) {\n      return item.id === id;\n    });\n    setCurrent(index < 0 ? 0 : index);\n    setShowPreview(true);\n    setMousePosition({\n      x: mouseX,\n      y: mouseY\n    });\n    setKeepOpenIndex(true);\n  }, [mergedItems, fromItems]); // Reset current when reopen\n\n  React.useEffect(function () {\n    if (isShowPreview) {\n      if (!keepOpenIndex) {\n        setCurrent(0);\n      }\n    } else {\n      setKeepOpenIndex(false);\n    }\n  }, [isShowPreview]); // ========================== Events ==========================\n\n  var onInternalChange = function onInternalChange(next, prev) {\n    setCurrent(next);\n    onChange === null || onChange === void 0 || onChange(next, prev);\n  };\n\n  var onPreviewClose = function onPreviewClose() {\n    setShowPreview(false);\n    setMousePosition(null);\n  }; // ========================= Context ==========================\n\n\n  var previewGroupContext = React.useMemo(function () {\n    return {\n      register: register,\n      onPreview: onPreviewFromImage\n    };\n  }, [register, onPreviewFromImage]); // ========================== Render ==========================\n\n  return /*#__PURE__*/React.createElement(PreviewGroupContext.Provider, {\n    value: previewGroupContext\n  }, children, /*#__PURE__*/React.createElement(Preview, _extends({\n    \"aria-hidden\": !isShowPreview,\n    movable: movable,\n    visible: isShowPreview,\n    prefixCls: previewPrefixCls,\n    closeIcon: closeIcon,\n    onClose: onPreviewClose,\n    mousePosition: mousePosition,\n    imgCommonProps: imgCommonProps,\n    src: src,\n    fallback: fallback,\n    icons: icons,\n    minScale: minScale,\n    maxScale: maxScale,\n    getContainer: getContainer,\n    current: current,\n    count: mergedItems.length,\n    countRender: countRender,\n    onTransform: onTransform,\n    toolbarRender: toolbarRender,\n    imageRender: imageRender,\n    onChange: onInternalChange\n  }, dialogProps)));\n};\n\nexport default Group;","map":{"version":3,"sources":["/Users/malith_bandara/Desktop/AdminDashboard/node_modules/rc-image/es/PreviewGroup.js"],"names":["_extends","_slicedToArray","_typeof","_objectWithoutProperties","_excluded","_excluded2","useMergedState","React","useState","Preview","PreviewGroupContext","usePreviewItems","Group","_ref","_mergedItems$current","_ref$previewPrefixCls","previewPrefixCls","children","_ref$icons","icons","items","preview","fallback","_ref2","previewVisible","visible","onVisibleChange","getContainer","currentIndex","current","movable","minScale","maxScale","countRender","closeIcon","onChange","onTransform","toolbarRender","imageRender","dialogProps","_usePreviewItems","_usePreviewItems2","mergedItems","register","fromItems","_useMergedState","value","_useMergedState2","setCurrent","_useState","_useState2","keepOpenIndex","setKeepOpenIndex","_ref3","data","src","imgCommonProps","_useMergedState3","val","prevVal","_useMergedState4","isShowPreview","setShowPreview","_useState3","_useState4","mousePosition","setMousePosition","onPreviewFromImage","useCallback","id","imageSrc","mouseX","mouseY","index","findIndex","item","x","y","useEffect","onInternalChange","next","prev","onPreviewClose","previewGroupContext","useMemo","onPreview","createElement","Provider","prefixCls","onClose","count","length"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"visible\", \"onVisibleChange\", \"getContainer\", \"current\", \"movable\", \"minScale\", \"maxScale\", \"countRender\", \"closeIcon\", \"onChange\", \"onTransform\", \"toolbarRender\", \"imageRender\"],\n  _excluded2 = [\"src\"];\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport * as React from 'react';\nimport { useState } from 'react';\nimport Preview from \"./Preview\";\nimport { PreviewGroupContext } from \"./context\";\nimport usePreviewItems from \"./hooks/usePreviewItems\";\nvar Group = function Group(_ref) {\n  var _mergedItems$current;\n  var _ref$previewPrefixCls = _ref.previewPrefixCls,\n    previewPrefixCls = _ref$previewPrefixCls === void 0 ? 'rc-image-preview' : _ref$previewPrefixCls,\n    children = _ref.children,\n    _ref$icons = _ref.icons,\n    icons = _ref$icons === void 0 ? {} : _ref$icons,\n    items = _ref.items,\n    preview = _ref.preview,\n    fallback = _ref.fallback;\n  var _ref2 = _typeof(preview) === 'object' ? preview : {},\n    previewVisible = _ref2.visible,\n    onVisibleChange = _ref2.onVisibleChange,\n    getContainer = _ref2.getContainer,\n    currentIndex = _ref2.current,\n    movable = _ref2.movable,\n    minScale = _ref2.minScale,\n    maxScale = _ref2.maxScale,\n    countRender = _ref2.countRender,\n    closeIcon = _ref2.closeIcon,\n    onChange = _ref2.onChange,\n    onTransform = _ref2.onTransform,\n    toolbarRender = _ref2.toolbarRender,\n    imageRender = _ref2.imageRender,\n    dialogProps = _objectWithoutProperties(_ref2, _excluded);\n\n  // ========================== Items ===========================\n  var _usePreviewItems = usePreviewItems(items),\n    _usePreviewItems2 = _slicedToArray(_usePreviewItems, 3),\n    mergedItems = _usePreviewItems2[0],\n    register = _usePreviewItems2[1],\n    fromItems = _usePreviewItems2[2];\n\n  // ========================= Preview ==========================\n  // >>> Index\n  var _useMergedState = useMergedState(0, {\n      value: currentIndex\n    }),\n    _useMergedState2 = _slicedToArray(_useMergedState, 2),\n    current = _useMergedState2[0],\n    setCurrent = _useMergedState2[1];\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    keepOpenIndex = _useState2[0],\n    setKeepOpenIndex = _useState2[1];\n\n  // >>> Image\n  var _ref3 = ((_mergedItems$current = mergedItems[current]) === null || _mergedItems$current === void 0 ? void 0 : _mergedItems$current.data) || {},\n    src = _ref3.src,\n    imgCommonProps = _objectWithoutProperties(_ref3, _excluded2);\n  // >>> Visible\n  var _useMergedState3 = useMergedState(!!previewVisible, {\n      value: previewVisible,\n      onChange: function onChange(val, prevVal) {\n        onVisibleChange === null || onVisibleChange === void 0 || onVisibleChange(val, prevVal, current);\n      }\n    }),\n    _useMergedState4 = _slicedToArray(_useMergedState3, 2),\n    isShowPreview = _useMergedState4[0],\n    setShowPreview = _useMergedState4[1];\n\n  // >>> Position\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    mousePosition = _useState4[0],\n    setMousePosition = _useState4[1];\n  var onPreviewFromImage = React.useCallback(function (id, imageSrc, mouseX, mouseY) {\n    var index = fromItems ? mergedItems.findIndex(function (item) {\n      return item.data.src === imageSrc;\n    }) : mergedItems.findIndex(function (item) {\n      return item.id === id;\n    });\n    setCurrent(index < 0 ? 0 : index);\n    setShowPreview(true);\n    setMousePosition({\n      x: mouseX,\n      y: mouseY\n    });\n    setKeepOpenIndex(true);\n  }, [mergedItems, fromItems]);\n\n  // Reset current when reopen\n  React.useEffect(function () {\n    if (isShowPreview) {\n      if (!keepOpenIndex) {\n        setCurrent(0);\n      }\n    } else {\n      setKeepOpenIndex(false);\n    }\n  }, [isShowPreview]);\n\n  // ========================== Events ==========================\n  var onInternalChange = function onInternalChange(next, prev) {\n    setCurrent(next);\n    onChange === null || onChange === void 0 || onChange(next, prev);\n  };\n  var onPreviewClose = function onPreviewClose() {\n    setShowPreview(false);\n    setMousePosition(null);\n  };\n\n  // ========================= Context ==========================\n  var previewGroupContext = React.useMemo(function () {\n    return {\n      register: register,\n      onPreview: onPreviewFromImage\n    };\n  }, [register, onPreviewFromImage]);\n\n  // ========================== Render ==========================\n  return /*#__PURE__*/React.createElement(PreviewGroupContext.Provider, {\n    value: previewGroupContext\n  }, children, /*#__PURE__*/React.createElement(Preview, _extends({\n    \"aria-hidden\": !isShowPreview,\n    movable: movable,\n    visible: isShowPreview,\n    prefixCls: previewPrefixCls,\n    closeIcon: closeIcon,\n    onClose: onPreviewClose,\n    mousePosition: mousePosition,\n    imgCommonProps: imgCommonProps,\n    src: src,\n    fallback: fallback,\n    icons: icons,\n    minScale: minScale,\n    maxScale: maxScale,\n    getContainer: getContainer,\n    current: current,\n    count: mergedItems.length,\n    countRender: countRender,\n    onTransform: onTransform,\n    toolbarRender: toolbarRender,\n    imageRender: imageRender,\n    onChange: onInternalChange\n  }, dialogProps)));\n};\nexport default Group;"]},"metadata":{},"sourceType":"module"}