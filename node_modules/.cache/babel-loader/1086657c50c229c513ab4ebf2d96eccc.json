{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport classNames from 'classnames';\nimport useLayoutEffect from \"rc-util/es/hooks/useLayoutEffect\";\nimport * as React from 'react';\nimport { usePanelContext } from \"../../context\";\nimport useScrollTo from \"./useScrollTo\";\nvar SCROLL_DELAY = 300; // Not use JSON.stringify to avoid dead loop\n\nfunction flattenUnits(units) {\n  return units.map(function (_ref) {\n    var value = _ref.value,\n        label = _ref.label,\n        disabled = _ref.disabled;\n    return [value, label, disabled].join(',');\n  }).join(';');\n}\n\nexport default function TimeColumn(props) {\n  var units = props.units,\n      value = props.value,\n      optionalValue = props.optionalValue,\n      type = props.type,\n      onChange = props.onChange,\n      onHover = props.onHover,\n      onDblClick = props.onDblClick,\n      changeOnScroll = props.changeOnScroll;\n\n  var _usePanelContext = usePanelContext(),\n      prefixCls = _usePanelContext.prefixCls,\n      cellRender = _usePanelContext.cellRender,\n      now = _usePanelContext.now,\n      locale = _usePanelContext.locale;\n\n  var panelPrefixCls = \"\".concat(prefixCls, \"-time-panel\");\n  var cellPrefixCls = \"\".concat(prefixCls, \"-time-panel-cell\"); // ========================== Refs ==========================\n\n  var ulRef = React.useRef(null); // ========================= Scroll =========================\n\n  var checkDelayRef = React.useRef();\n\n  var clearDelayCheck = function clearDelayCheck() {\n    clearTimeout(checkDelayRef.current);\n  }; // ========================== Sync ==========================\n\n\n  var _useScrollTo = useScrollTo(ulRef, value !== null && value !== void 0 ? value : optionalValue),\n      _useScrollTo2 = _slicedToArray(_useScrollTo, 3),\n      syncScroll = _useScrollTo2[0],\n      stopScroll = _useScrollTo2[1],\n      isScrolling = _useScrollTo2[2]; // Effect sync value scroll\n\n\n  useLayoutEffect(function () {\n    syncScroll();\n    clearDelayCheck();\n    return function () {\n      stopScroll();\n      clearDelayCheck();\n    };\n  }, [value, optionalValue, flattenUnits(units)]); // ========================= Change =========================\n  // Scroll event if sync onScroll\n\n  var onInternalScroll = function onInternalScroll(event) {\n    clearDelayCheck();\n    var target = event.target;\n\n    if (!isScrolling() && changeOnScroll) {\n      checkDelayRef.current = setTimeout(function () {\n        var ul = ulRef.current;\n        var firstLiTop = ul.querySelector(\"li\").offsetTop;\n        var liList = Array.from(ul.querySelectorAll(\"li\"));\n        var liTopList = liList.map(function (li) {\n          return li.offsetTop - firstLiTop;\n        });\n        var liDistList = liTopList.map(function (top, index) {\n          if (units[index].disabled) {\n            return Number.MAX_SAFE_INTEGER;\n          }\n\n          return Math.abs(top - target.scrollTop);\n        }); // Find min distance index\n\n        var minDist = Math.min.apply(Math, _toConsumableArray(liDistList));\n        var minDistIndex = liDistList.findIndex(function (dist) {\n          return dist === minDist;\n        });\n        var targetUnit = units[minDistIndex];\n\n        if (targetUnit && !targetUnit.disabled) {\n          onChange(targetUnit.value);\n        }\n      }, SCROLL_DELAY);\n    }\n  }; // ========================= Render =========================\n\n\n  var columnPrefixCls = \"\".concat(panelPrefixCls, \"-column\");\n  return /*#__PURE__*/React.createElement(\"ul\", {\n    className: columnPrefixCls,\n    ref: ulRef,\n    \"data-type\": type,\n    onScroll: onInternalScroll\n  }, units.map(function (_ref2) {\n    var label = _ref2.label,\n        unitValue = _ref2.value,\n        disabled = _ref2.disabled;\n    var inner = /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(cellPrefixCls, \"-inner\")\n    }, label);\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: unitValue,\n      className: classNames(cellPrefixCls, _defineProperty(_defineProperty({}, \"\".concat(cellPrefixCls, \"-selected\"), value === unitValue), \"\".concat(cellPrefixCls, \"-disabled\"), disabled)),\n      onClick: function onClick() {\n        if (!disabled) {\n          onChange(unitValue);\n        }\n      },\n      onDoubleClick: function onDoubleClick() {\n        if (!disabled && onDblClick) {\n          onDblClick();\n        }\n      },\n      onMouseEnter: function onMouseEnter() {\n        onHover(unitValue);\n      },\n      onMouseLeave: function onMouseLeave() {\n        onHover(null);\n      },\n      \"data-value\": unitValue\n    }, cellRender ? cellRender(unitValue, {\n      prefixCls: prefixCls,\n      originNode: inner,\n      today: now,\n      type: 'time',\n      subType: type,\n      locale: locale\n    }) : inner);\n  }));\n}","map":{"version":3,"sources":["/Users/malith_bandara/Desktop/AdminDashboard/node_modules/rc-picker/es/PickerPanel/TimePanel/TimePanelBody/TimeColumn.js"],"names":["_defineProperty","_toConsumableArray","_slicedToArray","classNames","useLayoutEffect","React","usePanelContext","useScrollTo","SCROLL_DELAY","flattenUnits","units","map","_ref","value","label","disabled","join","TimeColumn","props","optionalValue","type","onChange","onHover","onDblClick","changeOnScroll","_usePanelContext","prefixCls","cellRender","now","locale","panelPrefixCls","concat","cellPrefixCls","ulRef","useRef","checkDelayRef","clearDelayCheck","clearTimeout","current","_useScrollTo","_useScrollTo2","syncScroll","stopScroll","isScrolling","onInternalScroll","event","target","setTimeout","ul","firstLiTop","querySelector","offsetTop","liList","Array","from","querySelectorAll","liTopList","li","liDistList","top","index","Number","MAX_SAFE_INTEGER","Math","abs","scrollTop","minDist","min","apply","minDistIndex","findIndex","dist","targetUnit","columnPrefixCls","createElement","className","ref","onScroll","_ref2","unitValue","inner","key","onClick","onDoubleClick","onMouseEnter","onMouseLeave","originNode","today","subType"],"mappings":"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","sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport classNames from 'classnames';\nimport useLayoutEffect from \"rc-util/es/hooks/useLayoutEffect\";\nimport * as React from 'react';\nimport { usePanelContext } from \"../../context\";\nimport useScrollTo from \"./useScrollTo\";\nvar SCROLL_DELAY = 300;\n// Not use JSON.stringify to avoid dead loop\nfunction flattenUnits(units) {\n  return units.map(function (_ref) {\n    var value = _ref.value,\n      label = _ref.label,\n      disabled = _ref.disabled;\n    return [value, label, disabled].join(',');\n  }).join(';');\n}\nexport default function TimeColumn(props) {\n  var units = props.units,\n    value = props.value,\n    optionalValue = props.optionalValue,\n    type = props.type,\n    onChange = props.onChange,\n    onHover = props.onHover,\n    onDblClick = props.onDblClick,\n    changeOnScroll = props.changeOnScroll;\n  var _usePanelContext = usePanelContext(),\n    prefixCls = _usePanelContext.prefixCls,\n    cellRender = _usePanelContext.cellRender,\n    now = _usePanelContext.now,\n    locale = _usePanelContext.locale;\n  var panelPrefixCls = \"\".concat(prefixCls, \"-time-panel\");\n  var cellPrefixCls = \"\".concat(prefixCls, \"-time-panel-cell\");\n\n  // ========================== Refs ==========================\n  var ulRef = React.useRef(null);\n\n  // ========================= Scroll =========================\n  var checkDelayRef = React.useRef();\n  var clearDelayCheck = function clearDelayCheck() {\n    clearTimeout(checkDelayRef.current);\n  };\n\n  // ========================== Sync ==========================\n  var _useScrollTo = useScrollTo(ulRef, value !== null && value !== void 0 ? value : optionalValue),\n    _useScrollTo2 = _slicedToArray(_useScrollTo, 3),\n    syncScroll = _useScrollTo2[0],\n    stopScroll = _useScrollTo2[1],\n    isScrolling = _useScrollTo2[2];\n\n  // Effect sync value scroll\n  useLayoutEffect(function () {\n    syncScroll();\n    clearDelayCheck();\n    return function () {\n      stopScroll();\n      clearDelayCheck();\n    };\n  }, [value, optionalValue, flattenUnits(units)]);\n\n  // ========================= Change =========================\n  // Scroll event if sync onScroll\n  var onInternalScroll = function onInternalScroll(event) {\n    clearDelayCheck();\n    var target = event.target;\n    if (!isScrolling() && changeOnScroll) {\n      checkDelayRef.current = setTimeout(function () {\n        var ul = ulRef.current;\n        var firstLiTop = ul.querySelector(\"li\").offsetTop;\n        var liList = Array.from(ul.querySelectorAll(\"li\"));\n        var liTopList = liList.map(function (li) {\n          return li.offsetTop - firstLiTop;\n        });\n        var liDistList = liTopList.map(function (top, index) {\n          if (units[index].disabled) {\n            return Number.MAX_SAFE_INTEGER;\n          }\n          return Math.abs(top - target.scrollTop);\n        });\n\n        // Find min distance index\n        var minDist = Math.min.apply(Math, _toConsumableArray(liDistList));\n        var minDistIndex = liDistList.findIndex(function (dist) {\n          return dist === minDist;\n        });\n        var targetUnit = units[minDistIndex];\n        if (targetUnit && !targetUnit.disabled) {\n          onChange(targetUnit.value);\n        }\n      }, SCROLL_DELAY);\n    }\n  };\n\n  // ========================= Render =========================\n  var columnPrefixCls = \"\".concat(panelPrefixCls, \"-column\");\n  return /*#__PURE__*/React.createElement(\"ul\", {\n    className: columnPrefixCls,\n    ref: ulRef,\n    \"data-type\": type,\n    onScroll: onInternalScroll\n  }, units.map(function (_ref2) {\n    var label = _ref2.label,\n      unitValue = _ref2.value,\n      disabled = _ref2.disabled;\n    var inner = /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(cellPrefixCls, \"-inner\")\n    }, label);\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: unitValue,\n      className: classNames(cellPrefixCls, _defineProperty(_defineProperty({}, \"\".concat(cellPrefixCls, \"-selected\"), value === unitValue), \"\".concat(cellPrefixCls, \"-disabled\"), disabled)),\n      onClick: function onClick() {\n        if (!disabled) {\n          onChange(unitValue);\n        }\n      },\n      onDoubleClick: function onDoubleClick() {\n        if (!disabled && onDblClick) {\n          onDblClick();\n        }\n      },\n      onMouseEnter: function onMouseEnter() {\n        onHover(unitValue);\n      },\n      onMouseLeave: function onMouseLeave() {\n        onHover(null);\n      },\n      \"data-value\": unitValue\n    }, cellRender ? cellRender(unitValue, {\n      prefixCls: prefixCls,\n      originNode: inner,\n      today: now,\n      type: 'time',\n      subType: type,\n      locale: locale\n    }) : inner);\n  }));\n}"]},"metadata":{},"sourceType":"module"}